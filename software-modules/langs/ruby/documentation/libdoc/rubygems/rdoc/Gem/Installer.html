<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <!-- classpage -- >
    <!-- RD version: 0.42.0  -->
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
  <meta name='description' content='  Class : Gem::Installer  -   Ruby 2.7.4 ' />
  <meta content="2021-12-08 17:30:46 -0700" http-equiv="change-date" />
  <!-- rel_prefix  = '..'  ENV['RDOC_FOR_WEBSITE']   = false-->
    
  <!-- rel_prefix = '..'   asset_rel_prefix = '..'  --> 
  <title>Class: Gem::Installer (Ruby 2.7.4) </title>
  <link rel="stylesheet" href="../css/associated.css" type="text/css" >
  <!-- link rel="stylesheet" href="..css/obf.css"  -->
  <link rel="stylesheet" href="../css/inuit.css" >
  <link rel="stylesheet" href="../css/grid.inuit.css" >
  <link rel="stylesheet" href="../css/2011.css" type="text/css" >
  <link rel="stylesheet" href="../css/rdoc.css" type="text/css" >
    <link rel="stylesheet" href="../css/carbon17.css" type="text/css" >


  <script src="../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/rubydoc.js" type="text/javascript" charset="utf-8"></script> 


   
<script src="../js/highlight.min.js"></script>
<script> 
  hljs.tabReplace = '  ';
  hljs.initHighlightingOnLoad();
  </script> 

  <style type='text/css'>

    #vulns-alert #vulns{
      background-color: #c33 ! important;
      width: 100%;
      text-align: center;
   }
   
   #vulns-alert #vulns a {
    color: #F99 ! important;
   }
 </style>

   <link rel="stylesheet" href="css/extra.css" type="text/css" >
  <script  src="/js/extra.js"  ></script>


</head>

<body id="top" class="class rdocstar">

<div id='actionbar' >
<div class='wrapper'>
  <ul class='grids g0'></ul>
</div>
<span id='vulns-alert'></span>
<!-- VERSION HEADER for 2.7.4 NOT FOUND -->
</div> <!-- end action bar -->
 <div class='wrapper'>
  
   <!-- carbon17 added here 2017-09-09 -->
 

   <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
          
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul id='file-metadata'>

          
          
          
          <li class='in-file'>rubygems/installer.rb</li>      
            
          
          <li class='in-file'>rubygems/installer_test_case.rb</li>      
            
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link"><a href="../Object.html">Object</a></p>
        
      </div>
      

      

      
      <!-- Namespace Contents -->
      <div id="namespace-list-section" class="section">
        <h3 class="section-header">Namespace</h3>
        <ul class="link-list">
          
          <li><span class="type">CLASS</span> <a href="Installer/FakePackage.html">Gem::Installer::FakePackage</a></li>
          
        </ul>
      </div>
      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-at">::at</a></li>
          
          <li><a href="#method-c-exec_format">::exec_format</a></li>
          
          <li><a href="#method-c-for_spec">::for_spec</a></li>
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-app_script_text">#app_script_text</a></li>
          
          <li><a href="#method-i-build_extensions">#build_extensions</a></li>
          
          <li><a href="#method-i-default_spec_file">#default_spec_file</a></li>
          
          <li><a href="#method-i-dir">#dir</a></li>
          
          <li><a href="#method-i-ensure_dependency">#ensure_dependency</a></li>
          
          <li><a href="#method-i-ensure_loadable_spec">#ensure_loadable_spec</a></li>
          
          <li><a href="#method-i-extract_bin">#extract_bin</a></li>
          
          <li><a href="#method-i-extract_files">#extract_files</a></li>
          
          <li><a href="#method-i-formatted_program_filename">#formatted_program_filename</a></li>
          
          <li><a href="#method-i-gem_dir">#gem_dir</a></li>
          
          <li><a href="#method-i-generate_bin_script">#generate_bin_script</a></li>
          
          <li><a href="#method-i-generate_bin_symlink">#generate_bin_symlink</a></li>
          
          <li><a href="#method-i-generate_windows_script">#generate_windows_script</a></li>
          
          <li><a href="#method-i-install">#install</a></li>
          
          <li><a href="#method-i-installation_satisfies_dependency-3F">#installation_satisfies_dependency?</a></li>
          
          <li><a href="#method-i-installed_specs">#installed_specs</a></li>
          
          <li><a href="#method-i-pre_install_checks">#pre_install_checks</a></li>
          
          <li><a href="#method-i-shebang">#shebang</a></li>
          
          <li><a href="#method-i-spec">#spec</a></li>
          
          <li><a href="#method-i-spec_file">#spec_file</a></li>
          
          <li><a href="#method-i-unpack">#unpack</a></li>
          
          <li><a href="#method-i-verify_spec">#verify_spec</a></li>
          
          <li><a href="#method-i-windows_stub_script">#windows_stub_script</a></li>
          
          <li><a href="#method-i-write_build_info_file">#write_build_info_file</a></li>
          
          <li><a href="#method-i-write_cache_file">#write_cache_file</a></li>
          
          <li><a href="#method-i-write_default_spec">#write_default_spec</a></li>
          
          <li><a href="#method-i-write_spec">#write_spec</a></li>
          
        </ul>
      </div>
      

      
      <!-- Included Modules -->
      <div id="includes-section" class="section">
        <h3 class="section-header">Included Modules</h3>
        <ul class="link-list">
        
        
          <li><a class="include" href="UserInteraction.html">Gem::UserInteraction</a></li>
        
        
        </ul>
      </div>
      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
          
          
          
          <li><a href="../Gem/AvailableSet.html">Gem::AvailableSet</a></li>
        
          
          
          <li><a href="../Gem/BasicSpecification.html">Gem::BasicSpecification</a></li>
        
          
          
          <li><a href="../Gem/BundlerVersionFinder.html">Gem::BundlerVersionFinder</a></li>
        
          
          
          <li><a href="../Gem/Command.html">Gem::Command</a></li>
        
          
          
          <li><a href="../Gem/CommandLineError.html">Gem::CommandLineError</a></li>
        
          
          
          <li><a href="../Gem/CommandManager.html">Gem::CommandManager</a></li>
        
          
          
          <li><a href="../Gem/Commands.html">Gem::Commands</a></li>
        
          
          
          <li><a href="../Gem/Commands/BuildCommand.html">Gem::Commands::BuildCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/CertCommand.html">Gem::Commands::CertCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/CheckCommand.html">Gem::Commands::CheckCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/CleanupCommand.html">Gem::Commands::CleanupCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/ContentsCommand.html">Gem::Commands::ContentsCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/DependencyCommand.html">Gem::Commands::DependencyCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/EnvironmentCommand.html">Gem::Commands::EnvironmentCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/FetchCommand.html">Gem::Commands::FetchCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/GenerateIndexCommand.html">Gem::Commands::GenerateIndexCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/HelpCommand.html">Gem::Commands::HelpCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/InfoCommand.html">Gem::Commands::InfoCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/InstallCommand.html">Gem::Commands::InstallCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/ListCommand.html">Gem::Commands::ListCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/LockCommand.html">Gem::Commands::LockCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/MirrorCommand.html">Gem::Commands::MirrorCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/OpenCommand.html">Gem::Commands::OpenCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/OutdatedCommand.html">Gem::Commands::OutdatedCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/OwnerCommand.html">Gem::Commands::OwnerCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/PristineCommand.html">Gem::Commands::PristineCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/PushCommand.html">Gem::Commands::PushCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/QueryCommand.html">Gem::Commands::QueryCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/RdocCommand.html">Gem::Commands::RdocCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/SearchCommand.html">Gem::Commands::SearchCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/ServerCommand.html">Gem::Commands::ServerCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/SetupCommand.html">Gem::Commands::SetupCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/SetupCommand/MakeDirs.html">Gem::Commands::SetupCommand::MakeDirs</a></li>
        
          
          
          <li><a href="../Gem/Commands/SigninCommand.html">Gem::Commands::SigninCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/SignoutCommand.html">Gem::Commands::SignoutCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/SourcesCommand.html">Gem::Commands::SourcesCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/SpecificationCommand.html">Gem::Commands::SpecificationCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/StaleCommand.html">Gem::Commands::StaleCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/UninstallCommand.html">Gem::Commands::UninstallCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/UnpackCommand.html">Gem::Commands::UnpackCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/UpdateCommand.html">Gem::Commands::UpdateCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/WhichCommand.html">Gem::Commands::WhichCommand</a></li>
        
          
          
          <li><a href="../Gem/Commands/YankCommand.html">Gem::Commands::YankCommand</a></li>
        
          
          
          <li><a href="../Gem/ConfigFile.html">Gem::ConfigFile</a></li>
        
          
          
          <li><a href="../Gem/ConflictError.html">Gem::ConflictError</a></li>
        
          
          
          <li><a href="../Gem/ConsoleUI.html">Gem::ConsoleUI</a></li>
        
          
          
          <li><a href="../Gem/DefaultUserInteraction.html">Gem::DefaultUserInteraction</a></li>
        
          
          
          <li><a href="../Gem/Dependency.html">Gem::Dependency</a></li>
        
          
          
          <li><a href="../Gem/DependencyError.html">Gem::DependencyError</a></li>
        
          
          
          <li><a href="../Gem/DependencyInstaller.html">Gem::DependencyInstaller</a></li>
        
          
          
          <li><a href="../Gem/DependencyList.html">Gem::DependencyList</a></li>
        
          
          
          <li><a href="../Gem/DependencyRemovalException.html">Gem::DependencyRemovalException</a></li>
        
          
          
          <li><a href="../Gem/DependencyResolutionError.html">Gem::DependencyResolutionError</a></li>
        
          
          
          <li><a href="../Gem/Deprecate.html">Gem::Deprecate</a></li>
        
          
          
          <li><a href="../Gem/Doctor.html">Gem::Doctor</a></li>
        
          
          
          <li><a href="../Gem/DocumentError.html">Gem::DocumentError</a></li>
        
          
          
          <li><a href="../Gem/EndOfYAMLException.html">Gem::EndOfYAMLException</a></li>
        
          
          
          <li><a href="../Gem/ErrorReason.html">Gem::ErrorReason</a></li>
        
          
          
          <li><a href="../Gem/Exception.html">Gem::Exception</a></li>
        
          
          
          <li><a href="../Gem/Ext.html">Gem::Ext</a></li>
        
          
          
          <li><a href="../Gem/Ext/BuildError.html">Gem::Ext::BuildError</a></li>
        
          
          
          <li><a href="../Gem/Ext/Builder.html">Gem::Ext::Builder</a></li>
        
          
          
          <li><a href="../Gem/Ext/CmakeBuilder.html">Gem::Ext::CmakeBuilder</a></li>
        
          
          
          <li><a href="../Gem/Ext/ConfigureBuilder.html">Gem::Ext::ConfigureBuilder</a></li>
        
          
          
          <li><a href="../Gem/Ext/ExtConfBuilder.html">Gem::Ext::ExtConfBuilder</a></li>
        
          
          
          <li><a href="../Gem/Ext/RakeBuilder.html">Gem::Ext::RakeBuilder</a></li>
        
          
          
          <li><a href="../Gem/FakeFetcher.html">Gem::FakeFetcher</a></li>
        
          
          
          <li><a href="../Gem/FilePermissionError.html">Gem::FilePermissionError</a></li>
        
          
          
          <li><a href="../Gem/FormatException.html">Gem::FormatException</a></li>
        
          
          
          <li><a href="../Gem/GemNotFoundException.html">Gem::GemNotFoundException</a></li>
        
          
          
          <li><a href="../Gem/GemNotInHomeException.html">Gem::GemNotInHomeException</a></li>
        
          
          
          <li><a href="../Gem/GemRunner.html">Gem::GemRunner</a></li>
        
          
          
          <li><a href="../Gem/GemcutterUtilities.html">Gem::GemcutterUtilities</a></li>
        
          
          
          <li><a href="../Gem/ImpossibleDependenciesError.html">Gem::ImpossibleDependenciesError</a></li>
        
          
          
          <li><a href="../Gem/Indexer.html">Gem::Indexer</a></li>
        
          
          
          <li><a href="../Gem/InstallError.html">Gem::InstallError</a></li>
        
          
          
          <li><a href="../Gem/InstallUpdateOptions.html">Gem::InstallUpdateOptions</a></li>
        
          
          
          <li><a href="../Gem/Installer.html">Gem::Installer</a></li>
        
          
          
          <li><a href="../Gem/Installer/FakePackage.html">Gem::Installer::FakePackage</a></li>
        
          
          
          <li><a href="../Gem/InstallerTestCase.html">Gem::InstallerTestCase</a></li>
        
          
          
          <li><a href="../Gem/InvalidSpecificationException.html">Gem::InvalidSpecificationException</a></li>
        
          
          
          <li><a href="../Gem/Licenses.html">Gem::Licenses</a></li>
        
          
          
          <li><a href="../Gem/List.html">Gem::List</a></li>
        
          
          
          <li><a href="../Gem/LoadError.html">Gem::LoadError</a></li>
        
          
          
          <li><a href="../Gem/LocalRemoteOptions.html">Gem::LocalRemoteOptions</a></li>
        
          
          
          <li><a href="../Gem/MissingSpecError.html">Gem::MissingSpecError</a></li>
        
          
          
          <li><a href="../Gem/MissingSpecVersionError.html">Gem::MissingSpecVersionError</a></li>
        
          
          
          <li><a href="../Gem/MockGemUi.html">Gem::MockGemUi</a></li>
        
          
          
          <li><a href="../Gem/MockGemUi/InputEOFError.html">Gem::MockGemUi::InputEOFError</a></li>
        
          
          
          <li><a href="../Gem/MockGemUi/SystemExitException.html">Gem::MockGemUi::SystemExitException</a></li>
        
          
          
          <li><a href="../Gem/MockGemUi/TTY.html">Gem::MockGemUi::TTY</a></li>
        
          
          
          <li><a href="../Gem/MockGemUi/TermError.html">Gem::MockGemUi::TermError</a></li>
        
          
          
          <li><a href="../Gem/NameTuple.html">Gem::NameTuple</a></li>
        
          
          
          <li><a href="../Gem/NoAliasYAMLTree.html">Gem::NoAliasYAMLTree</a></li>
        
          
          
          <li><a href="../Gem/OperationNotSupportedError.html">Gem::OperationNotSupportedError</a></li>
        
          
          
          <li><a href="../Gem/Package/DigestIO.html">Gem::Package::DigestIO</a></li>
        
          
          
          <li><a href="../Gem/Package/Error.html">Gem::Package::Error</a></li>
        
          
          
          <li><a href="../Gem/Package/FormatError.html">Gem::Package::FormatError</a></li>
        
          
          
          <li><a href="../Gem/Package/NonSeekableIO.html">Gem::Package::NonSeekableIO</a></li>
        
          
          
          <li><a href="../Gem/Package/Old.html">Gem::Package::Old</a></li>
        
          
          
          <li><a href="../Gem/Package/PathError.html">Gem::Package::PathError</a></li>
        
          
          
          <li><a href="../Gem/Package/TarHeader.html">Gem::Package::TarHeader</a></li>
        
          
          
          <li><a href="../Gem/Package/TarInvalidError.html">Gem::Package::TarInvalidError</a></li>
        
          
          
          <li><a href="../Gem/Package/TarReader.html">Gem::Package::TarReader</a></li>
        
          
          
          <li><a href="../Gem/Package/TarReader/Entry.html">Gem::Package::TarReader::Entry</a></li>
        
          
          
          <li><a href="../Gem/Package/TarReader/UnexpectedEOF.html">Gem::Package::TarReader::UnexpectedEOF</a></li>
        
          
          
          <li><a href="../Gem/Package/TarTestCase.html">Gem::Package::TarTestCase</a></li>
        
          
          
          <li><a href="../Gem/Package/TarWriter.html">Gem::Package::TarWriter</a></li>
        
          
          
          <li><a href="../Gem/Package/TarWriter/BoundedStream.html">Gem::Package::TarWriter::BoundedStream</a></li>
        
          
          
          <li><a href="../Gem/Package/TarWriter/FileOverflow.html">Gem::Package::TarWriter::FileOverflow</a></li>
        
          
          
          <li><a href="../Gem/Package/TarWriter/RestrictedStream.html">Gem::Package::TarWriter::RestrictedStream</a></li>
        
          
          
          <li><a href="../Gem/Package/TooLongFileName.html">Gem::Package::TooLongFileName</a></li>
        
          
          
          <li><a href="../Gem/PackageTask.html">Gem::PackageTask</a></li>
        
          
          
          <li><a href="../Gem/PathSupport.html">Gem::PathSupport</a></li>
        
          
          
          <li><a href="../Gem/Platform.html">Gem::Platform</a></li>
        
          
          
          <li><a href="../Gem/PlatformMismatch.html">Gem::PlatformMismatch</a></li>
        
          
          
          <li><a href="../Gem/RemoteError.html">Gem::RemoteError</a></li>
        
          
          
          <li><a href="../Gem/RemoteFetcher.html">Gem::RemoteFetcher</a></li>
        
          
          
          <li><a href="../Gem/RemoteFetcher/FetchError.html">Gem::RemoteFetcher::FetchError</a></li>
        
          
          
          <li><a href="../Gem/RemoteFetcher/UnknownHostError.html">Gem::RemoteFetcher::UnknownHostError</a></li>
        
          
          
          <li><a href="../Gem/RemoteInstallationCancelled.html">Gem::RemoteInstallationCancelled</a></li>
        
          
          
          <li><a href="../Gem/RemoteInstallationSkipped.html">Gem::RemoteInstallationSkipped</a></li>
        
          
          
          <li><a href="../Gem/RemoteSourceException.html">Gem::RemoteSourceException</a></li>
        
          
          
          <li><a href="../Gem/RequestSet.html">Gem::RequestSet</a></li>
        
          
          
          <li><a href="../Gem/RequestSet/GemDependencyAPI.html">Gem::RequestSet::GemDependencyAPI</a></li>
        
          
          
          <li><a href="../Gem/RequestSet/Lockfile.html">Gem::RequestSet::Lockfile</a></li>
        
          
          
          <li><a href="../Gem/RequestSet/Lockfile/ParseError.html">Gem::RequestSet::Lockfile::ParseError</a></li>
        
          
          
          <li><a href="../Gem/RequestSet/Lockfile/Parser.html">Gem::RequestSet::Lockfile::Parser</a></li>
        
          
          
          <li><a href="../Gem/RequestSet/Lockfile/Tokenizer.html">Gem::RequestSet::Lockfile::Tokenizer</a></li>
        
          
          
          <li><a href="../Gem/Requirement.html">Gem::Requirement</a></li>
        
          
          
          <li><a href="../Gem/Requirement/BadRequirementError.html">Gem::Requirement::BadRequirementError</a></li>
        
          
          
          <li><a href="../Gem/Resolver.html">Gem::Resolver</a></li>
        
          
          
          <li><a href="../Gem/Resolver/APISet.html">Gem::Resolver::APISet</a></li>
        
          
          
          <li><a href="../Gem/Resolver/APISpecification.html">Gem::Resolver::APISpecification</a></li>
        
          
          
          <li><a href="../Gem/Resolver/ActivationRequest.html">Gem::Resolver::ActivationRequest</a></li>
        
          
          
          <li><a href="../Gem/Resolver/BestSet.html">Gem::Resolver::BestSet</a></li>
        
          
          
          <li><a href="../Gem/Resolver/ComposedSet.html">Gem::Resolver::ComposedSet</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Conflict.html">Gem::Resolver::Conflict</a></li>
        
          
          
          <li><a href="../Gem/Resolver/CurrentSet.html">Gem::Resolver::CurrentSet</a></li>
        
          
          
          <li><a href="../Gem/Resolver/DependencyRequest.html">Gem::Resolver::DependencyRequest</a></li>
        
          
          
          <li><a href="../Gem/Resolver/GitSet.html">Gem::Resolver::GitSet</a></li>
        
          
          
          <li><a href="../Gem/Resolver/GitSpecification.html">Gem::Resolver::GitSpecification</a></li>
        
          
          
          <li><a href="../Gem/Resolver/IndexSet.html">Gem::Resolver::IndexSet</a></li>
        
          
          
          <li><a href="../Gem/Resolver/IndexSpecification.html">Gem::Resolver::IndexSpecification</a></li>
        
          
          
          <li><a href="../Gem/Resolver/InstalledSpecification.html">Gem::Resolver::InstalledSpecification</a></li>
        
          
          
          <li><a href="../Gem/Resolver/InstallerSet.html">Gem::Resolver::InstallerSet</a></li>
        
          
          
          <li><a href="../Gem/Resolver/LocalSpecification.html">Gem::Resolver::LocalSpecification</a></li>
        
          
          
          <li><a href="../Gem/Resolver/LockSet.html">Gem::Resolver::LockSet</a></li>
        
          
          
          <li><a href="../Gem/Resolver/LockSpecification.html">Gem::Resolver::LockSpecification</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo.html">Gem::Resolver::Molinillo</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/CircularDependencyError.html">Gem::Resolver::Molinillo::CircularDependencyError</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/Delegates.html">Gem::Resolver::Molinillo::Delegates</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/Delegates/ResolutionState.html">Gem::Resolver::Molinillo::Delegates::ResolutionState</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/Delegates/SpecificationProvider.html">Gem::Resolver::Molinillo::Delegates::SpecificationProvider</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/DependencyGraph.html">Gem::Resolver::Molinillo::DependencyGraph</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/DependencyGraph/Action.html">Gem::Resolver::Molinillo::DependencyGraph::Action</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/DependencyGraph/AddEdgeNoCircular.html">Gem::Resolver::Molinillo::DependencyGraph::AddEdgeNoCircular</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/DependencyGraph/DeleteEdge.html">Gem::Resolver::Molinillo::DependencyGraph::DeleteEdge</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/DependencyGraph/DetachVertexNamed.html">Gem::Resolver::Molinillo::DependencyGraph::DetachVertexNamed</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/DependencyGraph/Log.html">Gem::Resolver::Molinillo::DependencyGraph::Log</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/DependencyGraph/Tag.html">Gem::Resolver::Molinillo::DependencyGraph::Tag</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/DependencyGraph/Vertex.html">Gem::Resolver::Molinillo::DependencyGraph::Vertex</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/DependencyState.html">Gem::Resolver::Molinillo::DependencyState</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/NoSuchDependencyError.html">Gem::Resolver::Molinillo::NoSuchDependencyError</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/PossibilityState.html">Gem::Resolver::Molinillo::PossibilityState</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/ResolutionState.html">Gem::Resolver::Molinillo::ResolutionState</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/Resolver.html">Gem::Resolver::Molinillo::Resolver</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/Resolver/Resolution.html">Gem::Resolver::Molinillo::Resolver::Resolution</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/ResolverError.html">Gem::Resolver::Molinillo::ResolverError</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/SpecificationProvider.html">Gem::Resolver::Molinillo::SpecificationProvider</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/UI.html">Gem::Resolver::Molinillo::UI</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Molinillo/VersionConflict.html">Gem::Resolver::Molinillo::VersionConflict</a></li>
        
          
          
          <li><a href="../Gem/Resolver/RequirementList.html">Gem::Resolver::RequirementList</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Set.html">Gem::Resolver::Set</a></li>
        
          
          
          <li><a href="../Gem/Resolver/SourceSet.html">Gem::Resolver::SourceSet</a></li>
        
          
          
          <li><a href="../Gem/Resolver/SpecSpecification.html">Gem::Resolver::SpecSpecification</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Specification.html">Gem::Resolver::Specification</a></li>
        
          
          
          <li><a href="../Gem/Resolver/Stats.html">Gem::Resolver::Stats</a></li>
        
          
          
          <li><a href="../Gem/Resolver/VendorSet.html">Gem::Resolver::VendorSet</a></li>
        
          
          
          <li><a href="../Gem/Resolver/VendorSpecification.html">Gem::Resolver::VendorSpecification</a></li>
        
          
          
          <li><a href="../Gem/RubyVersionMismatch.html">Gem::RubyVersionMismatch</a></li>
        
          
          
          <li><a href="../Gem/RuntimeRequirementNotMetError.html">Gem::RuntimeRequirementNotMetError</a></li>
        
          
          
          <li><a href="../Gem/S3URISigner.html">Gem::S3URISigner</a></li>
        
          
          
          <li><a href="../Gem/S3URISigner/ConfigurationError.html">Gem::S3URISigner::ConfigurationError</a></li>
        
          
          
          <li><a href="../Gem/S3URISigner/InstanceProfileError.html">Gem::S3URISigner::InstanceProfileError</a></li>
        
          
          
          <li><a href="../Gem/SafeYAML.html">Gem::SafeYAML</a></li>
        
          
          
          <li><a href="../Gem/Security.html">Gem::Security</a></li>
        
          
          
          <li><a href="../Gem/Security/Exception.html">Gem::Security::Exception</a></li>
        
          
          
          <li><a href="../Gem/Security/Policy.html">Gem::Security::Policy</a></li>
        
          
          
          <li><a href="../Gem/Security/Signer.html">Gem::Security::Signer</a></li>
        
          
          
          <li><a href="../Gem/Security/TrustDir.html">Gem::Security::TrustDir</a></li>
        
          
          
          <li><a href="../Gem/SecurityOption.html">Gem::SecurityOption</a></li>
        
          
          
          <li><a href="../Gem/Server.html">Gem::Server</a></li>
        
          
          
          <li><a href="../Gem/SilentUI.html">Gem::SilentUI</a></li>
        
          
          
          <li><a href="../Gem/Source.html">Gem::Source</a></li>
        
          
          
          <li><a href="../Gem/Source/Git.html">Gem::Source::Git</a></li>
        
          
          
          <li><a href="../Gem/Source/Installed.html">Gem::Source::Installed</a></li>
        
          
          
          <li><a href="../Gem/Source/Local.html">Gem::Source::Local</a></li>
        
          
          
          <li><a href="../Gem/Source/Lock.html">Gem::Source::Lock</a></li>
        
          
          
          <li><a href="../Gem/Source/SpecificFile.html">Gem::Source::SpecificFile</a></li>
        
          
          
          <li><a href="../Gem/Source/Vendor.html">Gem::Source::Vendor</a></li>
        
          
          
          <li><a href="../Gem/SourceFetchProblem.html">Gem::SourceFetchProblem</a></li>
        
          
          
          <li><a href="../Gem/SourceList.html">Gem::SourceList</a></li>
        
          
          
          <li><a href="../Gem/SpecFetcher.html">Gem::SpecFetcher</a></li>
        
          
          
          <li><a href="../Gem/SpecificGemNotFoundException.html">Gem::SpecificGemNotFoundException</a></li>
        
          
          
          <li><a href="../Gem/Specification.html">Gem::Specification</a></li>
        
          
          
          <li><a href="../Gem/SpecificationPolicy.html">Gem::SpecificationPolicy</a></li>
        
          
          
          <li><a href="../Gem/StreamUI.html">Gem::StreamUI</a></li>
        
          
          
          <li><a href="../Gem/StreamUI/SilentDownloadReporter.html">Gem::StreamUI::SilentDownloadReporter</a></li>
        
          
          
          <li><a href="../Gem/StreamUI/SilentProgressReporter.html">Gem::StreamUI::SilentProgressReporter</a></li>
        
          
          
          <li><a href="../Gem/StreamUI/SimpleProgressReporter.html">Gem::StreamUI::SimpleProgressReporter</a></li>
        
          
          
          <li><a href="../Gem/StreamUI/ThreadedDownloadReporter.html">Gem::StreamUI::ThreadedDownloadReporter</a></li>
        
          
          
          <li><a href="../Gem/StreamUI/VerboseProgressReporter.html">Gem::StreamUI::VerboseProgressReporter</a></li>
        
          
          
          <li><a href="../Gem/StubSpecification.html">Gem::StubSpecification</a></li>
        
          
          
          <li><a href="../Gem/SystemExitException.html">Gem::SystemExitException</a></li>
        
          
          
          <li><a href="../Gem/TestCase.html">Gem::TestCase</a></li>
        
          
          
          <li><a href="../Gem/TestCase/SpecFetcherSetup.html">Gem::TestCase::SpecFetcherSetup</a></li>
        
          
          
          <li><a href="../Gem/TestCase/StaticSet.html">Gem::TestCase::StaticSet</a></li>
        
          
          
          <li><a href="../Gem/Text.html">Gem::Text</a></li>
        
          
          
          <li><a href="../Gem/UninstallError.html">Gem::UninstallError</a></li>
        
          
          
          <li><a href="../Gem/Uninstaller.html">Gem::Uninstaller</a></li>
        
          
          
          <li><a href="../Gem/UnsatisfiableDependencyError.html">Gem::UnsatisfiableDependencyError</a></li>
        
          
          
          <li><a href="../Gem/UriFormatter.html">Gem::UriFormatter</a></li>
        
          
          
          <li><a href="../Gem/UriParser.html">Gem::UriParser</a></li>
        
          
          
          <li><a href="../Gem/UriParsing.html">Gem::UriParsing</a></li>
        
          
          
          <li><a href="../Gem/UserInteraction.html">Gem::UserInteraction</a></li>
        
          
          
          <li><a href="../Gem/Util.html">Gem::Util</a></li>
        
          
          
          <li><a href="../Gem/Validator.html">Gem::Validator</a></li>
        
          
          
          <li><a href="../Gem/VerificationError.html">Gem::VerificationError</a></li>
        
          
          
          <li><a href="../Gem/Version.html">Gem::Version</a></li>
        
          
          
          <li><a href="../Gem/VersionOption.html">Gem::VersionOption</a></li>
        
          
          
          <li><a href="../Kernel.html">Kernel</a></li>
        
          
          
          <li><a href="../Object.html">Object</a></li>
        
          
          
          <li><a href="../TempIO.html">TempIO</a></li>
        
          
          
          <li><a href="../YAML/Syck.html">YAML::Syck</a></li>
        
          
          
          <li><a href="../YAML/Syck.html">YAML::Syck</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div> <!-- metadata -->
  <div class='adzbox'  id="azk83167">
    
  </div> 
  <div id="documentation">
    <h1 class="class">Gem::Installer</h1>

    <div id="description" class="description">
      
<p>The installer installs the files contained in the .gem into the Gem.home.</p>

<p><a href="Installer.html"><code>Gem::Installer</code></a> does the work of putting files in all the right places on the filesystem including unpacking the gem into its gem dir, installing the gemspec in the specifications dir, storing the cached gem in the cache dir, and installing either wrappers or symlinks for executables.</p>

<p>The installer invokes pre and post install hooks.  Hooks can be added either through a rubygems_plugin.rb file in an installed gem or via a rubygems/defaults/#{RUBY_ENGINE}.rb or rubygems/defaults/operating_system.rb file.  See <a href="../Gem.html#method-c-pre_install"><code>Gem.pre_install</code></a> and <a href="../Gem.html#method-c-post_install"><code>Gem.post_install</code></a> for details.</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="ENV_PATHS">ENV_PATHS</a></dt>
          
          <dd class="description"><p>Paths where env(1) might live.  Some systems are broken and have it in /bin</p></dd>
          
        
        </dl>
      </div>
      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="exec_format-attribute-method" class="method-detail">
          <a name="exec_format"></a>
          
          <a name="exec_format="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">exec_format</span><span
              class="attribute-access-type">[W]</span>
          </div>

          <div class="method-description 245">
          
          <p>Overrides the executable format.</p>

<p>This is a sprintf format with a “%s” which will be replaced with the executable name.  It is based off the ruby executable name&#39;s difference from “ruby”.</p>
          
          </div>
        </div>
        
        <div id="install_lock-attribute-method" class="method-detail">
          <a name="install_lock"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">install_lock</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>Certain aspects of the install process are not thread-safe. This lock is used to allow multiple threads to install Gems at the same time.</p>
          
          </div>
        </div>
        
        <div id="path_warning-attribute-method" class="method-detail">
          <a name="path_warning"></a>
          
          <a name="path_warning="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">path_warning</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description 245">
          
          <p>True if we&#39;ve warned about PATH not including <a href="../Gem.html#method-c-bindir"><code>Gem.bindir</code></a></p>
          
          </div>
        </div>
        
        <div id="bin_dir-attribute-method" class="method-detail">
          <a name="bin_dir"></a>
          
          <a name="bin_dir="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">bin_dir</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description 245">
          
          <p>The directory a gem&#39;s executables will be installed into</p>
          
          </div>
        </div>
        
        <div id="build_args-attribute-method" class="method-detail">
          <a name="build_args"></a>
          
          <a name="build_args="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">build_args</span><span
              class="attribute-access-type">[W]</span>
          </div>

          <div class="method-description 245">
          
          <p>Available through requiring rubygems/installer_test_case</p>
          
          </div>
        </div>
        
        <div id="env_shebang-attribute-method" class="method-detail">
          <a name="env_shebang"></a>
          
          <a name="env_shebang="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">env_shebang</span><span
              class="attribute-access-type">[W]</span>
          </div>

          <div class="method-description 245">
          
          <p>Available through requiring rubygems/installer_test_case</p>
          
          </div>
        </div>
        
        <div id="force-attribute-method" class="method-detail">
          <a name="force"></a>
          
          <a name="force="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">force</span><span
              class="attribute-access-type">[W]</span>
          </div>

          <div class="method-description 245">
          
          <p>Available through requiring rubygems/installer_test_case</p>
          
          </div>
        </div>
        
        <div id="format-attribute-method" class="method-detail">
          <a name="format"></a>
          
          <a name="format="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">format</span><span
              class="attribute-access-type">[W]</span>
          </div>

          <div class="method-description 245">
          
          <p>Available through requiring rubygems/installer_test_case</p>
          
          </div>
        </div>
        
        <div id="format_executable-attribute-method" class="method-detail">
          <a name="format_executable"></a>
          
          <a name="format_executable="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">format_executable</span><span
              class="attribute-access-type">[W]</span>
          </div>

          <div class="method-description 245">
          
          <p>Available through requiring rubygems/installer_test_case</p>
          
          </div>
        </div>
        
        <div id="gem-attribute-method" class="method-detail">
          <a name="gem"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">gem</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>Filename of the gem being installed.</p>
          
          </div>
        </div>
        
        <div id="gem_dir-attribute-method" class="method-detail">
          <a name="gem_dir"></a>
          
          <a name="gem_dir="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">gem_dir</span><span
              class="attribute-access-type">[W]</span>
          </div>

          <div class="method-description 245">
          
          <p>Available through requiring rubygems/installer_test_case</p>
          
          </div>
        </div>
        
        <div id="gem_home-attribute-method" class="method-detail">
          <a name="gem_home"></a>
          
          <a name="gem_home="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">gem_home</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description 245">
          
          <p>The gem repository the gem will be installed into</p>
          
          </div>
        </div>
        
        <div id="ignore_dependencies-attribute-method" class="method-detail">
          <a name="ignore_dependencies"></a>
          
          <a name="ignore_dependencies="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">ignore_dependencies</span><span
              class="attribute-access-type">[W]</span>
          </div>

          <div class="method-description 245">
          
          <p>Available through requiring rubygems/installer_test_case</p>
          
          </div>
        </div>
        
        <div id="options-attribute-method" class="method-detail">
          <a name="options"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">options</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>The options passed when the <a href="Installer.html"><code>Gem::Installer</code></a> was instantiated.</p>
          
          </div>
        </div>
        
        <div id="package-attribute-method" class="method-detail">
          <a name="package"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">package</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>The gem package instance.</p>
          
          </div>
        </div>
        
        <div id="security_policy-attribute-method" class="method-detail">
          <a name="security_policy"></a>
          
          <a name="security_policy="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">security_policy</span><span
              class="attribute-access-type">[W]</span>
          </div>

          <div class="method-description 245">
          
          <p>Available through requiring rubygems/installer_test_case</p>
          
          </div>
        </div>
        
        <div id="wrappers-attribute-method" class="method-detail">
          <a name="wrappers"></a>
          
          <a name="wrappers="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">wrappers</span><span
              class="attribute-access-type">[W]</span>
          </div>

          <div class="method-description 245">
          
          <p>Available through requiring rubygems/installer_test_case</p>
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="at-method" class="method-detail ">
          <a name="method-c-at"></a>

          
          <div class="method-heading">
            <span class="method-name">at</span><span
              class="method-args">(path, options = {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Construct an installer object for the gem file located at <code>path</code></p>
            

            
            <div class="method-source-code" id="at-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 109</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">at</span>(<span class="ruby-identifier">path</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">security_policy</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:security_policy</span>]
  <span class="ruby-identifier">package</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Package</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">path</span>, <span class="ruby-identifier">security_policy</span>
  <span class="ruby-identifier">new</span> <span class="ruby-identifier">package</span>, <span class="ruby-identifier">options</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- at-source -->
            
          </div>

          

          
        </div><!-- at-method -->
      
        <div id="exec_format-method" class="method-detail ">
          <a name="method-c-exec_format"></a>

          
          <div class="method-heading">
            <span class="method-name">exec_format</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Defaults to use Ruby&#39;s program prefix and suffix.</p>
            

            
            <div class="method-source-code" id="exec_format-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 100</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">exec_format</span>
  <span class="ruby-ivar">@exec_format</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">default_exec_format</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- exec_format-source -->
            
          </div>

          

          
        </div><!-- exec_format-method -->
      
        <div id="for_spec-method" class="method-detail ">
          <a name="method-c-for_spec"></a>

          
          <div class="method-heading">
            <span class="method-name">for_spec</span><span
              class="method-args">(spec, options = {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Construct an installer object for an ephemeral gem (one where we don&#39;t actually have a .gem file, just a spec)</p>
            

            
            <div class="method-source-code" id="for_spec-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 149</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">for_spec</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-comment"># FIXME: we should have a real Package class for this</span>
  <span class="ruby-identifier">new</span> <span class="ruby-constant">FakePackage</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">spec</span>), <span class="ruby-identifier">options</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- for_spec-source -->
            
          </div>

          

          
        </div><!-- for_spec-method -->
      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">(package, options={})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Constructs an <a href="Installer.html"><code>Installer</code></a> instance that will install the gem at <code>package</code> which can either be a path or an instance of Gem::Package.  <code>options</code> is a Hash with the following keys:</p>
<dl class="rdoc-list note-list"><dt>:bin_dir
<dd>
<p>Where to put a bin wrapper if needed.</p>
</dd><dt>:development
<dd>
<p>Whether or not development dependencies should be installed.</p>
</dd><dt>:env_shebang
<dd>
<p>Use /usr/bin/env in bin wrappers.</p>
</dd><dt>:force
<dd>
<p>Overrides all version checks and security policy checks, except for a signed-gems-only policy.</p>
</dd><dt>:format_executable
<dd>
<p>Format the executable the same as the Ruby executable. If your Ruby is ruby18, foo_exec will be installed as foo_exec18.</p>
</dd><dt>:ignore_dependencies
<dd>
<p>Don&#39;t raise if a dependency is missing.</p>
</dd><dt>:install_dir
<dd>
<p>The directory to install the gem into.</p>
</dd><dt>:security_policy
<dd>
<p>Use the specified security policy.  See <a href="Security.html"><code>Gem::Security</code></a></p>
</dd><dt>:user_install
<dd>
<p>Indicate that the gem should be unpacked into the users personal gem directory.</p>
</dd><dt>:only_install_dir
<dd>
<p>Only validate dependencies against what is in the install_dir</p>
</dd><dt>:wrappers
<dd>
<p>Install wrappers if true, symlinks if false.</p>
</dd><dt>:build_args
<dd>
<p>An Array of arguments to pass to the extension builder process. If not set, then <a href="Command.html#method-c-build_args"><code>Gem::Command.build_args</code></a> is used</p>
</dd><dt>:post_install_message
<dd>
<p>Print gem post install message if true</p>
</dd></dl>
            

            
            <div class="method-source-code" id="new-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 179</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>(<span class="ruby-identifier">package</span>, <span class="ruby-identifier">options</span>={})
  <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;fileutils&#39;</span>

  <span class="ruby-ivar">@options</span> = <span class="ruby-identifier">options</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">package</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">String</span>
    <span class="ruby-identifier">security_policy</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:security_policy</span>]
    <span class="ruby-ivar">@package</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Package</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">package</span>, <span class="ruby-identifier">security_policy</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">$VERBOSE</span>
      <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;constructing an Installer object with a string is deprecated. Please use Gem::Installer.at (called from: #{caller.first})&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@package</span> = <span class="ruby-identifier">package</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">process_options</span>

  <span class="ruby-ivar">@package</span>.<span class="ruby-identifier">dir_mode</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:dir_mode</span>]
  <span class="ruby-ivar">@package</span>.<span class="ruby-identifier">prog_mode</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:prog_mode</span>]
  <span class="ruby-ivar">@package</span>.<span class="ruby-identifier">data_mode</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:data_mode</span>]

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:user_install</span>]
    <span class="ruby-ivar">@gem_home</span> = <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">user_dir</span>
    <span class="ruby-ivar">@bin_dir</span> = <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">bindir</span> <span class="ruby-identifier">gem_home</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:bin_dir</span>]
    <span class="ruby-identifier">check_that_user_bin_dir_is_in_path</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->
      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="app_script_text-method" class="method-detail ">
          <a name="method-i-app_script_text"></a>

          
          <div class="method-heading">
            <span class="method-name">app_script_text</span><span
              class="method-args">(bin_file_name)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Return the text for an application file.</p>
            

            
            <div class="method-source-code" id="app_script_text-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 767</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">app_script_text</span>(<span class="ruby-identifier">bin_file_name</span>)
    <span class="ruby-comment"># note that the `load` lines cannot be indented, as old RG versions match</span>
    <span class="ruby-comment"># against the beginning of the line</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">&lt;&lt;-TEXT</span>
<span class="ruby-value">#{shebang bin_file_name}
#
# This file was generated by RubyGems.
#
# The application &#39;#{spec.name}&#39; is installed as part of a gem, and
# this file is here to facilitate running it.
#

require &#39;rubygems&#39;

version = &quot;#{Gem::Requirement.default_prerelease}&quot;

str = ARGV.first
if str
  str = str.b[/\\A_(.*)_\\z/, 1]
  if str and Gem::Version.correct?(str)
    version = str
    ARGV.shift
  end
end

if Gem.respond_to?(:activate_bin_path)
load Gem.activate_bin_path(&#39;#{spec.name}&#39;, &#39;#{bin_file_name}&#39;, version)
else
gem #{spec.name.dump}, version
load Gem.bin_path(#{spec.name.dump}, #{bin_file_name.dump}, version)
end
</span><span class="ruby-identifier">TEXT</span>
  <span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- app_script_text-source -->
            
          </div>

          

          
        </div><!-- app_script_text-method -->
      
        <div id="build_extensions-method" class="method-detail ">
          <a name="method-i-build_extensions"></a>

          
          <div class="method-heading">
            <span class="method-name">build_extensions</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Builds extensions.  Valid types of extensions are extconf.rb files, configure scripts and rakefiles or mkrf_conf files.</p>
            

            
            <div class="method-source-code" id="build_extensions-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 841</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">build_extensions</span>
  <span class="ruby-identifier">builder</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Ext</span><span class="ruby-operator">::</span><span class="ruby-constant">Builder</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">spec</span>, <span class="ruby-ivar">@build_args</span>

  <span class="ruby-identifier">builder</span>.<span class="ruby-identifier">build_extensions</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- build_extensions-source -->
            
          </div>

          

          
        </div><!-- build_extensions-method -->
      
        <div id="default_spec_file-method" class="method-detail ">
          <a name="method-i-default_spec_file"></a>

          
          <div class="method-heading">
            <span class="method-name">default_spec_file</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>The location of the default spec file for default gems.</p>
            

            
            <div class="method-source-code" id="default_spec_file-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 448</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">default_spec_file</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">default_specifications_dir</span>, <span class="ruby-node">&quot;#{spec.full_name}.gemspec&quot;</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- default_spec_file-source -->
            
          </div>

          

          
        </div><!-- default_spec_file-method -->
      
        <div id="dir-method" class="method-detail ">
          <a name="method-i-dir"></a>

          
          <div class="method-heading">
            <span class="method-name">dir</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Return the target directory where the gem is to be installed. This directory is not guaranteed to be populated.</p>
            

            
            <div class="method-source-code" id="dir-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 894</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">dir</span>
  <span class="ruby-identifier">gem_dir</span>.<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- dir-source -->
            
          </div>

          

          
        </div><!-- dir-method -->
      
        <div id="ensure_dependency-method" class="method-detail ">
          <a name="method-i-ensure_dependency"></a>

          
          <div class="method-heading">
            <span class="method-name">ensure_dependency</span><span
              class="method-args">(spec, dependency)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Ensure that the dependency is satisfied by the current installation of gem.  If it is not an exception is raised.</p>
<dl class="rdoc-list note-list"><dt>spec       
<dd>
<p><a href="Specification.html"><code>Gem::Specification</code></a></p>
</dd><dt>dependency 
<dd>
<p><a href="Dependency.html"><code>Gem::Dependency</code></a></p>
</dd></dl>
            

            
            <div class="method-source-code" id="ensure_dependency-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 410</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">ensure_dependency</span>(<span class="ruby-identifier">spec</span>, <span class="ruby-identifier">dependency</span>)
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">installation_satisfies_dependency?</span> <span class="ruby-identifier">dependency</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InstallError</span>, <span class="ruby-node">&quot;#{spec.name} requires #{dependency}&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- ensure_dependency-source -->
            
          </div>

          

          
        </div><!-- ensure_dependency-method -->
      
        <div id="ensure_loadable_spec-method" class="method-detail ">
          <a name="method-i-ensure_loadable_spec"></a>

          
          <div class="method-heading">
            <span class="method-name">ensure_loadable_spec</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Ensures the <a href="Specification.html"><code>Gem::Specification</code></a> written out for this gem is loadable upon installation.</p>
            

            
            <div class="method-source-code" id="ensure_loadable_spec-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 632</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">ensure_loadable_spec</span>
  <span class="ruby-identifier">ruby</span> = <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">to_ruby_for_cache</span>
  <span class="ruby-identifier">ruby</span>.<span class="ruby-identifier">tap</span>(<span class="ruby-operator">&amp;</span><span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">UNTAINT</span>)

  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">eval</span> <span class="ruby-identifier">ruby</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">StandardError</span>, <span class="ruby-constant">SyntaxError</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InstallError</span>,
          <span class="ruby-node">&quot;The specification for #{spec.full_name} is corrupt (#{e.class})&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- ensure_loadable_spec-source -->
            
          </div>

          

          
        </div><!-- ensure_loadable_spec-method -->
      
        <div id="extract_bin-method" class="method-detail ">
          <a name="method-i-extract_bin"></a>

          
          <div class="method-heading">
            <span class="method-name">extract_bin</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Extracts only the bin/ files from the gem into the gem directory. This is used by default gems to allow a gem-aware stub to function without the full gem installed.</p>
            

            
            <div class="method-source-code" id="extract_bin-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 873</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">extract_bin</span>
  <span class="ruby-ivar">@package</span>.<span class="ruby-identifier">extract_files</span> <span class="ruby-identifier">gem_dir</span>, <span class="ruby-node">&quot;#{spec.bindir}/*&quot;</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- extract_bin-source -->
            
          </div>

          

          
        </div><!-- extract_bin-method -->
      
        <div id="extract_files-method" class="method-detail ">
          <a name="method-i-extract_files"></a>

          
          <div class="method-heading">
            <span class="method-name">extract_files</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Reads the file index and extracts each file into the gem directory.</p>

<p>Ensures that files can&#39;t be installed outside the gem directory.</p>
            

            
            <div class="method-source-code" id="extract_files-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 864</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">extract_files</span>
  <span class="ruby-ivar">@package</span>.<span class="ruby-identifier">extract_files</span> <span class="ruby-identifier">gem_dir</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- extract_files-source -->
            
          </div>

          

          
        </div><!-- extract_files-method -->
      
        <div id="formatted_program_filename-method" class="method-detail ">
          <a name="method-i-formatted_program_filename"></a>

          
          <div class="method-heading">
            <span class="method-name">formatted_program_filename</span><span
              class="method-args">(filename)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Prefix and suffix the program filename the same as ruby.</p>
            

            
            <div class="method-source-code" id="formatted_program_filename-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 880</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">formatted_program_filename</span>(<span class="ruby-identifier">filename</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@format_executable</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">exec_format</span> <span class="ruby-operator">%</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">filename</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">filename</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- formatted_program_filename-source -->
            
          </div>

          

          
        </div><!-- formatted_program_filename-method -->
      
        <div id="gem_dir-method" class="method-detail ">
          <a name="method-i-gem_dir"></a>

          
          <div class="method-heading">
            <span class="method-name">gem_dir</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Lazy accessor for the spec&#39;s gem directory.</p>
            

            
            <div class="method-source-code" id="gem_dir-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 276</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">gem_dir</span>
  <span class="ruby-ivar">@gem_dir</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">gem_home</span>, <span class="ruby-string">&quot;gems&quot;</span>, <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">full_name</span>)
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- gem_dir-source -->
            
          </div>

          

          
        </div><!-- gem_dir-method -->
      
        <div id="generate_bin_script-method" class="method-detail ">
          <a name="method-i-generate_bin_script"></a>

          
          <div class="method-heading">
            <span class="method-name">generate_bin_script</span><span
              class="method-args">(filename, bindir)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Creates the scripts to run the applications in the gem.</p>
            

            
            <div class="method-source-code" id="generate_bin_script-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 534</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">generate_bin_script</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">bindir</span>)
  <span class="ruby-identifier">bin_script_path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">bindir</span>, <span class="ruby-identifier">formatted_program_filename</span>(<span class="ruby-identifier">filename</span>)

  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span> <span class="ruby-identifier">bin_script_path</span> <span class="ruby-comment"># prior install may have been --no-wrappers</span>

  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span> <span class="ruby-identifier">bin_script_path</span>, <span class="ruby-string">&#39;wb&#39;</span>, <span class="ruby-value">0755</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">file</span>.<span class="ruby-identifier">print</span> <span class="ruby-identifier">app_script_text</span>(<span class="ruby-identifier">filename</span>)
    <span class="ruby-identifier">file</span>.<span class="ruby-identifier">chmod</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:prog_mode</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0755</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">verbose</span> <span class="ruby-identifier">bin_script_path</span>

  <span class="ruby-identifier">generate_windows_script</span> <span class="ruby-identifier">filename</span>, <span class="ruby-identifier">bindir</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- generate_bin_script-source -->
            
          </div>

          

          
        </div><!-- generate_bin_script-method -->
      
        <div id="generate_bin_symlink-method" class="method-detail ">
          <a name="method-i-generate_bin_symlink"></a>

          
          <div class="method-heading">
            <span class="method-name">generate_bin_symlink</span><span
              class="method-args">(filename, bindir)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Creates the symlinks to run the applications in the gem.  Moves the symlink if the gem being installed has a newer version.</p>
            

            
            <div class="method-source-code" id="generate_bin_symlink-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 553</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">generate_bin_symlink</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">bindir</span>)
  <span class="ruby-identifier">src</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">gem_dir</span>, <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">bindir</span>, <span class="ruby-identifier">filename</span>
  <span class="ruby-identifier">dst</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">bindir</span>, <span class="ruby-identifier">formatted_program_filename</span>(<span class="ruby-identifier">filename</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span> <span class="ruby-identifier">dst</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">symlink?</span> <span class="ruby-identifier">dst</span>
      <span class="ruby-identifier">link</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">readlink</span>(<span class="ruby-identifier">dst</span>).<span class="ruby-identifier">split</span> <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">SEPARATOR</span>
      <span class="ruby-identifier">cur_version</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Version</span>.<span class="ruby-identifier">create</span>(<span class="ruby-identifier">link</span>[<span class="ruby-value">-3</span>].<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/^.*-/</span>, <span class="ruby-string">&#39;&#39;</span>))
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">version</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">cur_version</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">unlink</span> <span class="ruby-identifier">dst</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">symlink</span> <span class="ruby-identifier">src</span>, <span class="ruby-identifier">dst</span>, <span class="ruby-value">:verbose</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">really_verbose</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">NotImplementedError</span>, <span class="ruby-constant">SystemCallError</span>
  <span class="ruby-identifier">alert_warning</span> <span class="ruby-string">&quot;Unable to use symlinks, installing wrapper&quot;</span>
  <span class="ruby-identifier">generate_bin_script</span> <span class="ruby-identifier">filename</span>, <span class="ruby-identifier">bindir</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- generate_bin_symlink-source -->
            
          </div>

          

          
        </div><!-- generate_bin_symlink-method -->
      
        <div id="generate_windows_script-method" class="method-detail ">
          <a name="method-i-generate_windows_script"></a>

          
          <div class="method-heading">
            <span class="method-name">generate_windows_script</span><span
              class="method-args">(filename, bindir)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Creates windows .bat files for easy running of commands</p>
            

            
            <div class="method-source-code" id="generate_windows_script-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 479</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">generate_windows_script</span>(<span class="ruby-identifier">filename</span>, <span class="ruby-identifier">bindir</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">win_platform?</span>
    <span class="ruby-identifier">script_name</span> = <span class="ruby-identifier">formatted_program_filename</span>(<span class="ruby-identifier">filename</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&quot;.bat&quot;</span>
    <span class="ruby-identifier">script_path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">bindir</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">script_name</span>)
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span> <span class="ruby-identifier">script_path</span>, <span class="ruby-string">&#39;w&#39;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">file</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">windows_stub_script</span>(<span class="ruby-identifier">bindir</span>, <span class="ruby-identifier">filename</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">verbose</span> <span class="ruby-identifier">script_path</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- generate_windows_script-source -->
            
          </div>

          

          
        </div><!-- generate_windows_script-method -->
      
        <div id="install-method" class="method-detail ">
          <a name="method-i-install"></a>

          
          <div class="method-heading">
            <span class="method-name">install</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Installs the gem and returns a loaded <a href="Specification.html"><code>Gem::Specification</code></a> for the installed gem.</p>

<p>The gem will be installed with the following structure:</p>

<pre>@gem_home/
  cache/&lt;gem-version&gt;.gem #=&gt; a cached copy of the installed gem
  gems/&lt;gem-version&gt;/... #=&gt; extracted files
  specifications/&lt;gem-version&gt;.gemspec #=&gt; the Gem::Specification</pre>
            

            
            <div class="method-source-code" id="install-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 300</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">install</span>
  <span class="ruby-identifier">pre_install_checks</span>

  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_f</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">gem_home</span>, <span class="ruby-string">&#39;specifications&#39;</span>, <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">spec_name</span>

  <span class="ruby-identifier">run_pre_install_hooks</span>

  <span class="ruby-comment"># Set loaded_from to ensure extension_dir is correct</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:install_as_default</span>]
    <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">loaded_from</span> = <span class="ruby-identifier">default_spec_file</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">loaded_from</span> = <span class="ruby-identifier">spec_file</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># Completely remove any previous gem files</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_rf</span> <span class="ruby-identifier">gem_dir</span>
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">rm_rf</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">extension_dir</span>

  <span class="ruby-identifier">dir_mode</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:dir_mode</span>]
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir_p</span> <span class="ruby-identifier">gem_dir</span>, <span class="ruby-value">:mode</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">dir_mode</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-value">0755</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:install_as_default</span>]
    <span class="ruby-identifier">extract_bin</span>
    <span class="ruby-identifier">write_default_spec</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">extract_files</span>

    <span class="ruby-identifier">build_extensions</span>
    <span class="ruby-identifier">write_build_info_file</span>
    <span class="ruby-identifier">run_post_build_hooks</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">generate_bin</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:install_as_default</span>]
    <span class="ruby-identifier">write_spec</span>
    <span class="ruby-identifier">write_cache_file</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">File</span>.<span class="ruby-identifier">chmod</span>(<span class="ruby-identifier">dir_mode</span>, <span class="ruby-identifier">gem_dir</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">dir_mode</span>

  <span class="ruby-identifier">say</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">post_install_message</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:post_install_message</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">spec</span>.<span class="ruby-identifier">post_install_message</span>.<span class="ruby-identifier">nil?</span>

  <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Installer</span>.<span class="ruby-identifier">install_lock</span>.<span class="ruby-identifier">synchronize</span> { <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">reset</span> }

  <span class="ruby-identifier">run_post_install_hooks</span>

  <span class="ruby-identifier">spec</span>

<span class="ruby-comment"># TODO This rescue is in the wrong place. What is raising this exception?</span>
<span class="ruby-comment"># move this rescue to around the code that actually might raise it.</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Zlib</span><span class="ruby-operator">::</span><span class="ruby-constant">GzipFile</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InstallError</span>, <span class="ruby-node">&quot;gzip error installing #{gem}&quot;</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- install-source -->
            
          </div>

          

          
        </div><!-- install-method -->
      
        <div id="installation_satisfies_dependency-3F-method" class="method-detail ">
          <a name="method-i-installation_satisfies_dependency-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">installation_satisfies_dependency?</span><span
              class="method-args">(dependency)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>True if the gems in the system satisfy <code>dependency</code>.</p>
            

            
            <div class="method-source-code" id="installation_satisfies_dependency-3F-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 420</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">installation_satisfies_dependency?</span>(<span class="ruby-identifier">dependency</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@options</span>[<span class="ruby-value">:development</span>] <span class="ruby-keyword">and</span> <span class="ruby-identifier">dependency</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">==</span> <span class="ruby-value">:development</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">installed_specs</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span><span class="ruby-operator">|</span> <span class="ruby-identifier">dependency</span>.<span class="ruby-identifier">matches_spec?</span> <span class="ruby-identifier">s</span> }
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@only_install_dir</span>
  <span class="ruby-keyword">not</span> <span class="ruby-identifier">dependency</span>.<span class="ruby-identifier">matching_specs</span>.<span class="ruby-identifier">empty?</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- installation_satisfies_dependency-3F-source -->
            
          </div>

          

          
        </div><!-- installation_satisfies_dependency-3F-method -->
      
        <div id="installed_specs-method" class="method-detail ">
          <a name="method-i-installed_specs"></a>

          
          <div class="method-heading">
            <span class="method-name">installed_specs</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Return an Array of Specifications contained within the <a href="Installer.html#attribute-i-gem_home"><code>gem_home</code></a> we&#39;ll be installing into.</p>
            

            
            <div class="method-source-code" id="installed_specs-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 390</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">installed_specs</span>
  <span class="ruby-ivar">@specs</span> <span class="ruby-operator">||=</span> <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">specs</span> = []

    <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">glob_files_in_dir</span>(<span class="ruby-string">&quot;*.gemspec&quot;</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">gem_home</span>, <span class="ruby-string">&quot;specifications&quot;</span>)).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">spec</span> = <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span>.<span class="ruby-identifier">load</span> <span class="ruby-identifier">path</span>.<span class="ruby-identifier">tap</span>(<span class="ruby-operator">&amp;</span><span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">UNTAINT</span>)
      <span class="ruby-identifier">specs</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">spec</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">specs</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- installed_specs-source -->
            
          </div>

          

          
        </div><!-- installed_specs-method -->
      
        <div id="pre_install_checks-method" class="method-detail ">
          <a name="method-i-pre_install_checks"></a>

          
          <div class="method-heading">
            <span class="method-name">pre_install_checks</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Performs various checks before installing the gem such as the install repository is writable and its directories exist, required Ruby and rubygems versions are met and that dependencies are installed.</p>

<p>Version and dependency checks are skipped if this install is forced.</p>

<p>The dependent check will be skipped if the install is ignoring dependencies.</p>
            

            
            <div class="method-source-code" id="pre_install_checks-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 907</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">pre_install_checks</span>
  <span class="ruby-identifier">verify_gem_home</span>

  <span class="ruby-comment"># The name and require_paths must be verified first, since it could contain</span>
  <span class="ruby-comment"># ruby code that would be eval&#39;ed in #ensure_loadable_spec</span>
  <span class="ruby-identifier">verify_spec</span>

  <span class="ruby-identifier">ensure_loadable_spec</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:install_as_default</span>]
    <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">ensure_default_gem_subdirectories</span> <span class="ruby-identifier">gem_home</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">ensure_gem_subdirectories</span> <span class="ruby-identifier">gem_home</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">return</span> <span class="ruby-keyword">true</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@force</span>

  <span class="ruby-identifier">ensure_required_ruby_version_met</span>
  <span class="ruby-identifier">ensure_required_rubygems_version_met</span>
  <span class="ruby-identifier">ensure_dependencies_met</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@ignore_dependencies</span>

  <span class="ruby-keyword">true</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- pre_install_checks-source -->
            
          </div>

          

          
        </div><!-- pre_install_checks-method -->
      
        <div id="shebang-method" class="method-detail ">
          <a name="method-i-shebang"></a>

          
          <div class="method-heading">
            <span class="method-name">shebang</span><span
              class="method-args">(bin_file_name)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Generates a #! line for <code>bin_file_name</code>&#39;s wrapper copying arguments if necessary.</p>

<p>If the :custom_shebang config is set, then it is used as a template for how to create the shebang used for to run a gem&#39;s executables.</p>

<p>The template supports 4 expansions:</p>

<pre>$env    the path to the unix env utility
$ruby   the path to the currently running ruby interpreter
$exec   the path to the gem&#39;s executable
$name   the name of the gem the executable is for</pre>
            

            
            <div class="method-source-code" id="shebang-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 587</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">shebang</span>(<span class="ruby-identifier">bin_file_name</span>)
  <span class="ruby-identifier">ruby_name</span> = <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>[<span class="ruby-string">&#39;ruby_install_name&#39;</span>] <span class="ruby-keyword">if</span> <span class="ruby-ivar">@env_shebang</span>
  <span class="ruby-identifier">path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">gem_dir</span>, <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">bindir</span>, <span class="ruby-identifier">bin_file_name</span>
  <span class="ruby-identifier">first_line</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">path</span>, <span class="ruby-string">&quot;rb&quot;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span> <span class="ruby-identifier">file</span>.<span class="ruby-identifier">gets</span>}

  <span class="ruby-keyword">if</span> <span class="ruby-regexp">/\A#!/</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">first_line</span>
    <span class="ruby-comment"># Preserve extra words on shebang line, like &quot;-w&quot;.  Thanks RPA.</span>
    <span class="ruby-identifier">shebang</span> = <span class="ruby-identifier">first_line</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/\A\#!.*?ruby\S*((\s+\S+)+)/</span>, <span class="ruby-node">&quot;#!#{Gem.ruby}&quot;</span>)
    <span class="ruby-identifier">opts</span> = <span class="ruby-node">$1</span>
    <span class="ruby-identifier">shebang</span>.<span class="ruby-identifier">strip!</span> <span class="ruby-comment"># Avoid nasty ^M issues.</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">which</span> = <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">configuration</span>[<span class="ruby-value">:custom_shebang</span>]
    <span class="ruby-comment"># replace bin_file_name with &quot;ruby&quot; to avoid endless loops</span>
    <span class="ruby-identifier">which</span> = <span class="ruby-identifier">which</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/ #{bin_file_name}$/</span>,<span class="ruby-node">&quot; #{RbConfig::CONFIG[&#39;ruby_install_name&#39;]}&quot;</span>)

    <span class="ruby-identifier">which</span> = <span class="ruby-identifier">which</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\$(\w+)/</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-keyword">case</span> <span class="ruby-node">$1</span>
      <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;env&quot;</span>
        <span class="ruby-ivar">@env_path</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">ENV_PATHS</span>.<span class="ruby-identifier">find</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">env_path</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">executable?</span> <span class="ruby-identifier">env_path</span> }
      <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;ruby&quot;</span>
        <span class="ruby-node">&quot;#{Gem.ruby}#{opts}&quot;</span>
      <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;exec&quot;</span>
        <span class="ruby-identifier">bin_file_name</span>
      <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;name&quot;</span>
        <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">name</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-node">&quot;#!#{which}&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-keyword">not</span> <span class="ruby-identifier">ruby_name</span>
    <span class="ruby-node">&quot;#!#{Gem.ruby}#{opts}&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">opts</span>
    <span class="ruby-node">&quot;#!/bin/sh\n&#39;exec&#39; #{ruby_name.dump} &#39;-x&#39; \&quot;$0\&quot; \&quot;$@\&quot;\n#{shebang}&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># Create a plain shebang line.</span>
    <span class="ruby-ivar">@env_path</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">ENV_PATHS</span>.<span class="ruby-identifier">find</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">env_path</span><span class="ruby-operator">|</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">executable?</span> <span class="ruby-identifier">env_path</span> }
    <span class="ruby-node">&quot;#!#{@env_path} #{ruby_name}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- shebang-source -->
            
          </div>

          

          
        </div><!-- shebang-method -->
      
        <div id="spec-method" class="method-detail ">
          <a name="method-i-spec"></a>

          
          <div class="method-heading">
            <span class="method-name">spec</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Lazy accessor for the installer&#39;s spec.</p>
            

            
            <div class="method-source-code" id="spec-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 283</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">spec</span>
  <span class="ruby-ivar">@package</span>.<span class="ruby-identifier">spec</span>
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Package</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InstallError</span>, <span class="ruby-node">&quot;invalid gem: #{e.message}&quot;</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- spec-source -->
            
          </div>

          

          
        </div><!-- spec-method -->
      
        <div id="spec_file-method" class="method-detail ">
          <a name="method-i-spec_file"></a>

          
          <div class="method-heading">
            <span class="method-name">spec_file</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>The location of the spec file that is installed.</p>
            

            
            <div class="method-source-code" id="spec_file-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 440</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">spec_file</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">gem_home</span>, <span class="ruby-string">&quot;specifications&quot;</span>, <span class="ruby-node">&quot;#{spec.full_name}.gemspec&quot;</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- spec_file-source -->
            
          </div>

          

          
        </div><!-- spec_file-method -->
      
        <div id="unpack-method" class="method-detail ">
          <a name="method-i-unpack"></a>

          
          <div class="method-heading">
            <span class="method-name">unpack</span><span
              class="method-args">(directory)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Unpacks the gem into the given directory.</p>
            

            
            <div class="method-source-code" id="unpack-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 430</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">unpack</span>(<span class="ruby-identifier">directory</span>)
  <span class="ruby-ivar">@gem_dir</span> = <span class="ruby-identifier">directory</span>
  <span class="ruby-identifier">extract_files</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- unpack-source -->
            
          </div>

          

          
        </div><!-- unpack-method -->
      
        <div id="verify_spec-method" class="method-detail ">
          <a name="method-i-verify_spec"></a>

          
          <div class="method-heading">
            <span class="method-name">verify_spec</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            
            

            
            <div class="method-source-code" id="verify_spec-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 738</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">verify_spec</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">Specification</span><span class="ruby-operator">::</span><span class="ruby-constant">VALID_NAME_PATTERN</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InstallError</span>, <span class="ruby-node">&quot;#{spec} has an invalid name&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">raw_require_paths</span>.<span class="ruby-identifier">any?</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">path</span><span class="ruby-operator">|</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\R/</span> }
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InstallError</span>, <span class="ruby-node">&quot;#{spec} has an invalid require_paths&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">extensions</span>.<span class="ruby-identifier">any?</span>{<span class="ruby-operator">|</span><span class="ruby-identifier">ext</span><span class="ruby-operator">|</span> <span class="ruby-identifier">ext</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\R/</span> }
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InstallError</span>, <span class="ruby-node">&quot;#{spec} has an invalid extensions&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">specification_version</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\A\d+\z/</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InstallError</span>, <span class="ruby-node">&quot;#{spec} has an invalid specification_version&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">any?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span> <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">!=</span> <span class="ruby-value">:runtime</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">type</span> <span class="ruby-operator">!=</span> <span class="ruby-value">:development</span> }
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InstallError</span>, <span class="ruby-node">&quot;#{spec} has an invalid dependencies&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">any?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">dep</span><span class="ruby-operator">|</span> <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/(?:\R|[&lt;&gt;])/</span> }
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">Gem</span><span class="ruby-operator">::</span><span class="ruby-constant">InstallError</span>, <span class="ruby-node">&quot;#{spec} has an invalid dependencies&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- verify_spec-source -->
            
          </div>

          

          
        </div><!-- verify_spec-method -->
      
        <div id="windows_stub_script-method" class="method-detail ">
          <a name="method-i-windows_stub_script"></a>

          
          <div class="method-heading">
            <span class="method-name">windows_stub_script</span><span
              class="method-args">(bindir, bin_file_name)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>return the stub script text used to launch the true Ruby script</p>
            

            
            <div class="method-source-code" id="windows_stub_script-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 804</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">windows_stub_script</span>(<span class="ruby-identifier">bindir</span>, <span class="ruby-identifier">bin_file_name</span>)
    <span class="ruby-identifier">rb_config</span> = <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">CONFIG</span>
    <span class="ruby-identifier">rb_topdir</span> = <span class="ruby-constant">RbConfig</span><span class="ruby-operator">::</span><span class="ruby-constant">TOPDIR</span> <span class="ruby-operator">||</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">rb_config</span>[<span class="ruby-string">&quot;bindir&quot;</span>])

    <span class="ruby-comment"># get ruby executable file name from RbConfig</span>
    <span class="ruby-identifier">ruby_exe</span> = <span class="ruby-node">&quot;#{rb_config[&#39;RUBY_INSTALL_NAME&#39;]}#{rb_config[&#39;EXEEXT&#39;]}&quot;</span>
    <span class="ruby-identifier">ruby_exe</span> = <span class="ruby-string">&quot;ruby.exe&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">ruby_exe</span>.<span class="ruby-identifier">empty?</span>

    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">bindir</span>, <span class="ruby-identifier">ruby_exe</span>)
      <span class="ruby-comment"># stub &amp; ruby.exe withing same folder.  Portable</span>
      <span class="ruby-identifier">&lt;&lt;-TEXT</span>
<span class="ruby-value">@ECHO OFF
@&quot;%~dp0#{ruby_exe}&quot; &quot;%~dpn0&quot; %*
</span><span class="ruby-identifier">      TEXT</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">bindir</span>.<span class="ruby-identifier">downcase</span>.<span class="ruby-identifier">start_with?</span> <span class="ruby-identifier">rb_topdir</span>.<span class="ruby-identifier">downcase</span>
      <span class="ruby-comment"># stub within ruby folder, but not standard bin.  Portable</span>
      <span class="ruby-identifier">require</span> <span class="ruby-string">&#39;pathname&#39;</span>
      <span class="ruby-identifier">from</span> = <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">bindir</span>
      <span class="ruby-identifier">to</span>   = <span class="ruby-constant">Pathname</span>.<span class="ruby-identifier">new</span> <span class="ruby-node">&quot;#{rb_topdir}/bin&quot;</span>
      <span class="ruby-identifier">rel</span>  = <span class="ruby-identifier">to</span>.<span class="ruby-identifier">relative_path_from</span> <span class="ruby-identifier">from</span>
      <span class="ruby-identifier">&lt;&lt;-TEXT</span>
<span class="ruby-value">@ECHO OFF
@&quot;%~dp0#{rel}/#{ruby_exe}&quot; &quot;%~dpn0&quot; %*
</span><span class="ruby-identifier">      TEXT</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-comment"># outside ruby folder, maybe -user-install or bundler.  Portable, but ruby</span>
      <span class="ruby-comment"># is dependent on PATH</span>
      <span class="ruby-identifier">&lt;&lt;-TEXT</span>
<span class="ruby-value">@ECHO OFF
@#{ruby_exe} &quot;%~dpn0&quot; %*
</span><span class="ruby-identifier">      TEXT</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- windows_stub_script-source -->
            
          </div>

          

          
        </div><!-- windows_stub_script-method -->
      
        <div id="write_build_info_file-method" class="method-detail ">
          <a name="method-i-write_build_info_file"></a>

          
          <div class="method-heading">
            <span class="method-name">write_build_info_file</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Writes the file containing the arguments for building this gem&#39;s extensions.</p>
            

            
            <div class="method-source-code" id="write_build_info_file-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 935</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">write_build_info_file</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@build_args</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">build_info_dir</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">gem_home</span>, <span class="ruby-string">&#39;build_info&#39;</span>

  <span class="ruby-identifier">dir_mode</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:dir_mode</span>]
  <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir_p</span> <span class="ruby-identifier">build_info_dir</span>, <span class="ruby-value">:mode</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">dir_mode</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-value">0755</span>

  <span class="ruby-identifier">build_info_file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">build_info_dir</span>, <span class="ruby-node">&quot;#{spec.full_name}.info&quot;</span>

  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span> <span class="ruby-identifier">build_info_file</span>, <span class="ruby-string">&#39;w&#39;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
    <span class="ruby-ivar">@build_args</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">arg</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">io</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">arg</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">File</span>.<span class="ruby-identifier">chmod</span>(<span class="ruby-identifier">dir_mode</span>, <span class="ruby-identifier">build_info_dir</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">dir_mode</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- write_build_info_file-source -->
            
          </div>

          

          
        </div><!-- write_build_info_file-method -->
      
        <div id="write_cache_file-method" class="method-detail ">
          <a name="method-i-write_cache_file"></a>

          
          <div class="method-heading">
            <span class="method-name">write_cache_file</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Writes the .gem file to the cache directory</p>
            

            
            <div class="method-source-code" id="write_cache_file-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 957</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">write_cache_file</span>
  <span class="ruby-identifier">cache_file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">gem_home</span>, <span class="ruby-string">&#39;cache&#39;</span>, <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">file_name</span>
  <span class="ruby-ivar">@package</span>.<span class="ruby-identifier">copy_to</span> <span class="ruby-identifier">cache_file</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- write_cache_file-source -->
            
          </div>

          

          
        </div><!-- write_cache_file-method -->
      
        <div id="write_default_spec-method" class="method-detail ">
          <a name="method-i-write_default_spec"></a>

          
          <div class="method-heading">
            <span class="method-name">write_default_spec</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Writes the full .gemspec specification (in Ruby) to the gem home&#39;s specifications/default directory.</p>
            

            
            <div class="method-source-code" id="write_default_spec-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 470</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">write_default_spec</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">default_spec_file</span>, <span class="ruby-string">&quot;w&quot;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">file</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">to_ruby</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- write_default_spec-source -->
            
          </div>

          

          
        </div><!-- write_default_spec-method -->
      
        <div id="write_spec-method" class="method-detail ">
          <a name="method-i-write_spec"></a>

          
          <div class="method-heading">
            <span class="method-name">write_spec</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Writes the .gemspec specification (in Ruby) to the gem home&#39;s specifications directory.</p>
            

            
            <div class="method-source-code" id="write_spec-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rubygems/installer.rb, line 456</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">write_spec</span>
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span> <span class="ruby-identifier">spec_file</span>, <span class="ruby-string">&#39;w&#39;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">installed_by_version</span> = <span class="ruby-constant">Gem</span>.<span class="ruby-identifier">rubygems_version</span>

    <span class="ruby-identifier">file</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">spec</span>.<span class="ruby-identifier">to_ruby_for_cache</span>

    <span class="ruby-identifier">file</span>.<span class="ruby-identifier">fsync</span> <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">nil</span> <span class="ruby-comment"># for filesystems without fsync(2)</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- write_spec-source -->
            
          </div>

          

          
        </div><!-- write_spec-method -->
      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  
  <div id='tx_Installer_versioned' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_Installer_versioned").load("/associated/2.7.4/Installer.ihtml");</script> <div id='tx_Installer' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_Installer").load("/associated/Installer.ihtml");</script> 
      
  </div><!-- documentation -->
  <div id='dynamic'>
  </div>
      
<div class='grids wrapper' id="footer">
  <p><small>This page was generated for Ruby 2.7.4</small></p> 
  
   <p><a href="http://ruby-doc.org">Ruby-doc.org</a> is a service of <a href="http://jamesbritt.com">James Britt</a> and <a href="http://neurogami.com">Neurogami</a>, an erratic source of art, music, and technology.  <div class='oio-inline'><ins data-revive-zoneid="1" data-revive-id="58924a5717c091dfee6dda3f7d38c4d7"></ins><script async src="//ras.ruby-doc.org/vvv/delivery/thesinkjs.php"></script></div></p>
 
       <p><small>Generated with Ruby-doc Rdoc Generator 0.42.0</small>.</p>
  </div>
</div>
  
 <script type='text/javascript'>
$(document).ready(function() {
      $.ajaxSetup({ cache: false });
      $("#vulns-alert").load("/associated/vulns.ihtml");
    });

    </script>


 
		<script type='text/javascript'>

	function loadPlus(plusdocs){
			$(plusdocs).find("div[class='associated_wrapper']").each (function() {
					$("#" + this.id).append($(plusdocs).find("#" + this.id ));
					});
	} 

   //function loadInline(json){
   // for (var lookFor in json) {
    //  $(lookFor).after(json[lookFor]);
    // }
  // } // end loadInline


$(document).ready(function() {
		$.ajaxSetup({ cache: false });
			$.get('/associated/2.7.4/plus_Installer.ihtml', 
			function(plusdocs) {
			setTimeout(function() {
				loadPlus(plusdocs);
				}, 2000);
			}
			);


//     $.ajax({
//     dataType: "json",
//      url: '/associated/2.7.4/inline_Installer.js',
//      success: function(json) {
// 			setTimeout(function() {
// 				loadInline(json);
// 				}, 2000);
// 			}
//    });

		});
</script>
		
</body>
</html>


