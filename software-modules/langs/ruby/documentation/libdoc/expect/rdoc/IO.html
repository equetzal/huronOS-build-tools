<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <!-- classpage -- >
    <!-- RD version: 0.42.0  -->
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
  <meta name='description' content='  Class : IO  -   Ruby 2.7.4 ' />
  <meta content="2021-12-08 17:19:46 -0700" http-equiv="change-date" />
  <!-- rel_prefix  = ''  ENV['RDOC_FOR_WEBSITE']   = false-->
    
    
    
  <!-- rel_prefix = '.'   asset_rel_prefix = ''  --> 
  <title>Class: IO (Ruby 2.7.4) </title>
  <link rel="stylesheet" href="css/associated.css" type="text/css" >
  <!-- link rel="stylesheet" href=".css/obf.css"  -->
  <link rel="stylesheet" href="css/inuit.css" >
  <link rel="stylesheet" href="css/grid.inuit.css" >
  <link rel="stylesheet" href="css/2011.css" type="text/css" >
  <link rel="stylesheet" href="css/rdoc.css" type="text/css" >
    <link rel="stylesheet" href="css/carbon17.css" type="text/css" >


  <script src="/js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/rubydoc.js" type="text/javascript" charset="utf-8"></script> 


   
<script src="/js/highlight.min.js"></script>
<script> 
  hljs.tabReplace = '  ';
  hljs.initHighlightingOnLoad();
  </script> 

  <style type='text/css'>

    #vulns-alert #vulns{
      background-color: #c33 ! important;
      width: 100%;
      text-align: center;
   }
   
   #vulns-alert #vulns a {
    color: #F99 ! important;
   }
 </style>

   <link rel="stylesheet" href="css/extra.css" type="text/css" >
  <script  src="/js/extra.js"  ></script>


</head>

<body id="top" class="class rdocstar">

<div id='actionbar' >
<div class='wrapper'>
  <ul class='grids g0'></ul>
</div>
<span id='vulns-alert'></span>
<!-- VERSION HEADER for 2.7.4 NOT FOUND -->
</div> <!-- end action bar -->
 <div class='wrapper'>
  
   <!-- carbon17 added here 2017-09-09 -->
 

   <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
          
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul id='file-metadata'>

          
          
          
          <li class='in-file'>pty/lib/expect.rb</li>      
            
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">Object</p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-i-expect">#expect</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="./images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
          
          
          
          <li><a href="./IO.html">IO</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div> <!-- metadata -->
  <div class='adzbox'  id="azk83167">
    
  </div> 
  <div id="documentation">
    <h1 class="class">IO</h1>

    <div id="description" class="description">
      
<p>Expect library adds the <a href="IO.html"><code>IO</code></a> instance method <a href="IO.html#method-i-expect"><code>expect</code></a>, which does similar act to tcl&#39;s expect extension.</p>

<p>In order to use this method, you must require expect:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;expect&#39;</span>
</pre>

<p>Please see <a href="IO.html#method-i-expect"><code>expect</code></a> for usage.</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      

      <!-- Methods -->
      
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="expect-method" class="method-detail ">
          <a name="method-i-expect"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">IO#expect(pattern,timeout=9999999)                  &rarr;  Array</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">IO#expect(pattern,timeout=9999999) { |result| ... } &rarr;  nil</span>
            
          </div>
          
          
          <div>
  
            
            <p>Reads from the <a href="IO.html"><code>IO</code></a> until the given <code>pattern</code> matches or the <code>timeout</code> is over.</p>

<p>It returns an array with the read buffer, followed by the matches. If a block is given, the result is yielded to the block and returns nil.</p>

<p>When called without a block, it waits until the input that matches the given <code>pattern</code> is obtained from the <a href="IO.html"><code>IO</code></a> or the time specified as the timeout passes. An array is returned when the pattern is obtained from the <a href="IO.html"><code>IO</code></a>. The first element of the array is the entire string obtained from the <a href="IO.html"><code>IO</code></a> until the pattern matches, followed by elements indicating which the pattern which matched to the anchor in the regular expression.</p>

<p>The optional timeout parameter defines, in seconds, the total time to wait for the pattern.  If the timeout expires or eof is found, nil is returned or yielded.  However, the buffer in a timeout session is kept for the next expect call.  The default timeout is 9999999 seconds.</p>
            

            
            <div class="method-source-code" id="expect-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File pty/lib/expect.rb, line 33</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">expect</span>(<span class="ruby-identifier">pat</span>,<span class="ruby-identifier">timeout</span>=<span class="ruby-value">9999999</span>)
  <span class="ruby-identifier">buf</span> = <span class="ruby-string">&#39;&#39;</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-keyword">case</span> <span class="ruby-identifier">pat</span>
  <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span>
    <span class="ruby-identifier">e_pat</span> = <span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">new</span>(<span class="ruby-constant">Regexp</span>.<span class="ruby-identifier">quote</span>(<span class="ruby-identifier">pat</span>))
  <span class="ruby-keyword">when</span> <span class="ruby-constant">Regexp</span>
    <span class="ruby-identifier">e_pat</span> = <span class="ruby-identifier">pat</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;unsupported pattern class: #{pat.class}&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@unusedBuf</span> <span class="ruby-operator">||=</span> <span class="ruby-string">&#39;&#39;</span>
  <span class="ruby-keyword">while</span> <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">if</span> <span class="ruby-keyword">not</span> <span class="ruby-ivar">@unusedBuf</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-identifier">c</span> = <span class="ruby-ivar">@unusedBuf</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">0</span>)
    <span class="ruby-keyword">elsif</span> <span class="ruby-operator">!</span><span class="ruby-constant">IO</span>.<span class="ruby-identifier">select</span>([<span class="ruby-keyword">self</span>],<span class="ruby-keyword">nil</span>,<span class="ruby-keyword">nil</span>,<span class="ruby-identifier">timeout</span>) <span class="ruby-keyword">or</span> <span class="ruby-identifier">eof?</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">result</span> = <span class="ruby-keyword">nil</span>
      <span class="ruby-ivar">@unusedBuf</span> = <span class="ruby-identifier">buf</span>
      <span class="ruby-keyword">break</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">c</span> = <span class="ruby-identifier">getc</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">buf</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">$expect_verbose</span>
      <span class="ruby-constant">STDOUT</span>.<span class="ruby-identifier">print</span> <span class="ruby-identifier">c</span>
      <span class="ruby-constant">STDOUT</span>.<span class="ruby-identifier">flush</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">mat</span>=<span class="ruby-identifier">e_pat</span>.<span class="ruby-identifier">match</span>(<span class="ruby-identifier">buf</span>) <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">result</span> = [<span class="ruby-identifier">buf</span>,<span class="ruby-operator">*</span><span class="ruby-identifier">mat</span>.<span class="ruby-identifier">captures</span>]
      <span class="ruby-keyword">break</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">block_given?</span> <span class="ruby-keyword">then</span>
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">result</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-keyword">return</span> <span class="ruby-identifier">result</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- expect-source -->
            
          </div>

          

          
        </div><!-- expect-method -->
      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  
  <div id='tx_IO_versioned' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_IO_versioned").load("/associated/2.7.4/IO.ihtml");</script> <div id='tx_IO' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_IO").load("/associated/IO.ihtml");</script> 
      
  </div><!-- documentation -->
  <div id='dynamic'>
  </div>
      
<div class='grids wrapper' id="footer">
  <p><small>This page was generated for Ruby 2.7.4</small></p> 
  
   <p><a href="http://ruby-doc.org">Ruby-doc.org</a> is provided by <a href="http://jamesbritt.com">James Britt</a> and <a href="http://neurogami.com">Neurogami</a>. <a href="http://neurogami.com">Maximum R+D</a>.  <div class='oio-inline'><ins data-revive-zoneid="1" data-revive-id="58924a5717c091dfee6dda3f7d38c4d7"></ins><script async src="//ras.ruby-doc.org/vvv/delivery/thesinkjs.php"></script></div></p>
 
       <p><small>Generated with Ruby-doc Rdoc Generator 0.42.0</small>.</p>
  </div>
</div>
  
 <script type='text/javascript'>
$(document).ready(function() {
      $.ajaxSetup({ cache: false });
      $("#vulns-alert").load("/associated/vulns.ihtml");
    });

    </script>


 
		<script type='text/javascript'>

	function loadPlus(plusdocs){
			$(plusdocs).find("div[class='associated_wrapper']").each (function() {
					$("#" + this.id).append($(plusdocs).find("#" + this.id ));
					});
	} 

   //function loadInline(json){
   // for (var lookFor in json) {
    //  $(lookFor).after(json[lookFor]);
    // }
  // } // end loadInline


$(document).ready(function() {
		$.ajaxSetup({ cache: false });
			$.get('/associated/2.7.4/plus_IO.ihtml', 
			function(plusdocs) {
			setTimeout(function() {
				loadPlus(plusdocs);
				}, 2000);
			}
			);


//     $.ajax({
//     dataType: "json",
//      url: '/associated/2.7.4/inline_IO.js',
//      success: function(json) {
// 			setTimeout(function() {
// 				loadInline(json);
// 				}, 2000);
// 			}
//    });

		});
</script>
		
</body>
</html>


