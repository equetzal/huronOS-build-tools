<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="https://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <!-- classpage -- >
    <!-- RD version: 0.42.0  -->
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
  <meta name='description' content='  Class : RDoc::RDoc  -   Ruby 2.7.4 ' />
  <meta content="2021-12-08 17:28:43 -0700" http-equiv="change-date" />
  <!-- rel_prefix  = '..'  ENV['RDOC_FOR_WEBSITE']   = false-->
    
  <!-- rel_prefix = '..'   asset_rel_prefix = '..'  --> 
  <title>Class: RDoc::RDoc (Ruby 2.7.4) </title>
  <link rel="stylesheet" href="../css/associated.css" type="text/css" >
  <!-- link rel="stylesheet" href="..css/obf.css"  -->
  <link rel="stylesheet" href="../css/inuit.css" >
  <link rel="stylesheet" href="../css/grid.inuit.css" >
  <link rel="stylesheet" href="../css/2011.css" type="text/css" >
  <link rel="stylesheet" href="../css/rdoc.css" type="text/css" >
    <link rel="stylesheet" href="../css/carbon17.css" type="text/css" >


  <script src="../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/rubydoc.js" type="text/javascript" charset="utf-8"></script> 


   
<script src="../js/highlight.min.js"></script>
<script> 
  hljs.tabReplace = '  ';
  hljs.initHighlightingOnLoad();
  </script> 

  <style type='text/css'>

    #vulns-alert #vulns{
      background-color: #c33 ! important;
      width: 100%;
      text-align: center;
   }
   
   #vulns-alert #vulns a {
    color: #F99 ! important;
   }
 </style>

   <link rel="stylesheet" href="css/extra.css" type="text/css" >
  <script  src="/js/extra.js"  ></script>


</head>

<body id="top" class="class rdocstar">

<div id='actionbar' >
<div class='wrapper'>
  <ul class='grids g0'></ul>
</div>
<span id='vulns-alert'></span>
<!-- VERSION HEADER for 2.7.4 NOT FOUND -->
</div> <!-- end action bar -->
 <div class='wrapper'>
  
   <!-- carbon17 added here 2017-09-09 -->
 

   <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
          
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul id='file-metadata'>

          
          
          
          <li class='in-file'>rdoc/rdoc.rb</li>      
            
          
          <li class='in-file'>rdoc/text.rb</li>      
            
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">Object</p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-add_generator">::add_generator</a></li>
          
          <li><a href="#method-c-current">::current</a></li>
          
          <li><a href="#method-c-current-3D">::current=</a></li>
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-document">#document</a></li>
          
          <li><a href="#method-i-error">#error</a></li>
          
          <li><a href="#method-i-gather_files">#gather_files</a></li>
          
          <li><a href="#method-i-generate">#generate</a></li>
          
          <li><a href="#method-i-handle_pipe">#handle_pipe</a></li>
          
          <li><a href="#method-i-install_siginfo_handler">#install_siginfo_handler</a></li>
          
          <li><a href="#method-i-list_files_in_directory">#list_files_in_directory</a></li>
          
          <li><a href="#method-i-load_options">#load_options</a></li>
          
          <li><a href="#method-i-normalized_file_list">#normalized_file_list</a></li>
          
          <li><a href="#method-i-output_flag_file">#output_flag_file</a></li>
          
          <li><a href="#method-i-parse_dot_doc_file">#parse_dot_doc_file</a></li>
          
          <li><a href="#method-i-parse_file">#parse_file</a></li>
          
          <li><a href="#method-i-parse_files">#parse_files</a></li>
          
          <li><a href="#method-i-remove_siginfo_handler">#remove_siginfo_handler</a></li>
          
          <li><a href="#method-i-remove_unparseable">#remove_unparseable</a></li>
          
          <li><a href="#method-i-setup_output_dir">#setup_output_dir</a></li>
          
          <li><a href="#method-i-store-3D">#store=</a></li>
          
          <li><a href="#method-i-update_output_dir">#update_output_dir</a></li>
          
        </ul>
      </div>
      

      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
          
          
          
          <li><a href="../RDoc.html">RDoc</a></li>
        
          
          
          <li><a href="../RDoc/Alias.html">RDoc::Alias</a></li>
        
          
          
          <li><a href="../RDoc/AnonClass.html">RDoc::AnonClass</a></li>
        
          
          
          <li><a href="../RDoc/AnyMethod.html">RDoc::AnyMethod</a></li>
        
          
          
          <li><a href="../RDoc/Attr.html">RDoc::Attr</a></li>
        
          
          
          <li><a href="../RDoc/ClassModule.html">RDoc::ClassModule</a></li>
        
          
          
          <li><a href="../RDoc/CodeObject.html">RDoc::CodeObject</a></li>
        
          
          
          <li><a href="../RDoc/Comment.html">RDoc::Comment</a></li>
        
          
          
          <li><a href="../RDoc/Constant.html">RDoc::Constant</a></li>
        
          
          
          <li><a href="../RDoc/Context.html">RDoc::Context</a></li>
        
          
          
          <li><a href="../RDoc/Context/Section.html">RDoc::Context::Section</a></li>
        
          
          
          <li><a href="../RDoc/CrossReference.html">RDoc::CrossReference</a></li>
        
          
          
          <li><a href="../RDoc/ERBIO.html">RDoc::ERBIO</a></li>
        
          
          
          <li><a href="../RDoc/ERBPartial.html">RDoc::ERBPartial</a></li>
        
          
          
          <li><a href="../RDoc/Encoding.html">RDoc::Encoding</a></li>
        
          
          
          <li><a href="../RDoc/Error.html">RDoc::Error</a></li>
        
          
          
          <li><a href="../RDoc/Extend.html">RDoc::Extend</a></li>
        
          
          
          <li><a href="../RDoc/Generator.html">RDoc::Generator</a></li>
        
          
          
          <li><a href="../RDoc/Generator/Darkfish.html">RDoc::Generator::Darkfish</a></li>
        
          
          
          <li><a href="../RDoc/Generator/JsonIndex.html">RDoc::Generator::JsonIndex</a></li>
        
          
          
          <li><a href="../RDoc/Generator/Markup.html">RDoc::Generator::Markup</a></li>
        
          
          
          <li><a href="../RDoc/Generator/POT.html">RDoc::Generator::POT</a></li>
        
          
          
          <li><a href="../RDoc/Generator/POT/MessageExtractor.html">RDoc::Generator::POT::MessageExtractor</a></li>
        
          
          
          <li><a href="../RDoc/Generator/POT/PO.html">RDoc::Generator::POT::PO</a></li>
        
          
          
          <li><a href="../RDoc/Generator/POT/POEntry.html">RDoc::Generator::POT::POEntry</a></li>
        
          
          
          <li><a href="../RDoc/Generator/RI.html">RDoc::Generator::RI</a></li>
        
          
          
          <li><a href="../RDoc/GhostMethod.html">RDoc::GhostMethod</a></li>
        
          
          
          <li><a href="../RDoc/I18n.html">RDoc::I18n</a></li>
        
          
          
          <li><a href="../RDoc/I18n/Locale.html">RDoc::I18n::Locale</a></li>
        
          
          
          <li><a href="../RDoc/I18n/Text.html">RDoc::I18n::Text</a></li>
        
          
          
          <li><a href="../RDoc/Include.html">RDoc::Include</a></li>
        
          
          
          <li><a href="../RDoc/Markdown.html">RDoc::Markdown</a></li>
        
          
          
          <li><a href="../RDoc/Markdown/Literals.html">RDoc::Markdown::Literals</a></li>
        
          
          
          <li><a href="../RDoc/Markup.html">RDoc::Markup</a></li>
        
          
          
          <li><a href="../RDoc/Markup/AttrChanger.html">RDoc::Markup::AttrChanger</a></li>
        
          
          
          <li><a href="../RDoc/Markup/AttrSpan.html">RDoc::Markup::AttrSpan</a></li>
        
          
          
          <li><a href="../RDoc/Markup/AttributeManager.html">RDoc::Markup::AttributeManager</a></li>
        
          
          
          <li><a href="../RDoc/Markup/Attributes.html">RDoc::Markup::Attributes</a></li>
        
          
          
          <li><a href="../RDoc/Markup/BlankLine.html">RDoc::Markup::BlankLine</a></li>
        
          
          
          <li><a href="../RDoc/Markup/BlockQuote.html">RDoc::Markup::BlockQuote</a></li>
        
          
          
          <li><a href="../RDoc/Markup/Document.html">RDoc::Markup::Document</a></li>
        
          
          
          <li><a href="../RDoc/Markup/Formatter.html">RDoc::Markup::Formatter</a></li>
        
          
          
          <li><a href="../RDoc/Markup/HardBreak.html">RDoc::Markup::HardBreak</a></li>
        
          
          
          <li><a href="../RDoc/Markup/Include.html">RDoc::Markup::Include</a></li>
        
          
          
          <li><a href="../RDoc/Markup/IndentedParagraph.html">RDoc::Markup::IndentedParagraph</a></li>
        
          
          
          <li><a href="../RDoc/Markup/List.html">RDoc::Markup::List</a></li>
        
          
          
          <li><a href="../RDoc/Markup/ListItem.html">RDoc::Markup::ListItem</a></li>
        
          
          
          <li><a href="../RDoc/Markup/Paragraph.html">RDoc::Markup::Paragraph</a></li>
        
          
          
          <li><a href="../RDoc/Markup/Parser.html">RDoc::Markup::Parser</a></li>
        
          
          
          <li><a href="../RDoc/Markup/Parser/Error.html">RDoc::Markup::Parser::Error</a></li>
        
          
          
          <li><a href="../RDoc/Markup/Parser/MyStringScanner.html">RDoc::Markup::Parser::MyStringScanner</a></li>
        
          
          
          <li><a href="../RDoc/Markup/Parser/ParseError.html">RDoc::Markup::Parser::ParseError</a></li>
        
          
          
          <li><a href="../RDoc/Markup/PreProcess.html">RDoc::Markup::PreProcess</a></li>
        
          
          
          <li><a href="../RDoc/Markup/Raw.html">RDoc::Markup::Raw</a></li>
        
          
          
          <li><a href="../RDoc/Markup/RegexpHandling.html">RDoc::Markup::RegexpHandling</a></li>
        
          
          
          <li><a href="../RDoc/Markup/Rule.html">RDoc::Markup::Rule</a></li>
        
          
          
          <li><a href="../RDoc/Markup/ToAnsi.html">RDoc::Markup::ToAnsi</a></li>
        
          
          
          <li><a href="../RDoc/Markup/ToBs.html">RDoc::Markup::ToBs</a></li>
        
          
          
          <li><a href="../RDoc/Markup/ToHtml.html">RDoc::Markup::ToHtml</a></li>
        
          
          
          <li><a href="../RDoc/Markup/ToHtmlCrossref.html">RDoc::Markup::ToHtmlCrossref</a></li>
        
          
          
          <li><a href="../RDoc/Markup/ToHtmlSnippet.html">RDoc::Markup::ToHtmlSnippet</a></li>
        
          
          
          <li><a href="../RDoc/Markup/ToJoinedParagraph.html">RDoc::Markup::ToJoinedParagraph</a></li>
        
          
          
          <li><a href="../RDoc/Markup/ToLabel.html">RDoc::Markup::ToLabel</a></li>
        
          
          
          <li><a href="../RDoc/Markup/ToMarkdown.html">RDoc::Markup::ToMarkdown</a></li>
        
          
          
          <li><a href="../RDoc/Markup/ToRdoc.html">RDoc::Markup::ToRdoc</a></li>
        
          
          
          <li><a href="../RDoc/Markup/ToTableOfContents.html">RDoc::Markup::ToTableOfContents</a></li>
        
          
          
          <li><a href="../RDoc/Markup/ToTest.html">RDoc::Markup::ToTest</a></li>
        
          
          
          <li><a href="../RDoc/Markup/ToTtOnly.html">RDoc::Markup::ToTtOnly</a></li>
        
          
          
          <li><a href="../RDoc/Markup/Verbatim.html">RDoc::Markup::Verbatim</a></li>
        
          
          
          <li><a href="../RDoc/MetaMethod.html">RDoc::MetaMethod</a></li>
        
          
          
          <li><a href="../RDoc/MethodAttr.html">RDoc::MethodAttr</a></li>
        
          
          
          <li><a href="../RDoc/Mixin.html">RDoc::Mixin</a></li>
        
          
          
          <li><a href="../RDoc/NormalClass.html">RDoc::NormalClass</a></li>
        
          
          
          <li><a href="../RDoc/NormalModule.html">RDoc::NormalModule</a></li>
        
          
          
          <li><a href="../RDoc/Options.html">RDoc::Options</a></li>
        
          
          
          <li><a href="../RDoc/Parser.html">RDoc::Parser</a></li>
        
          
          
          <li><a href="../RDoc/Parser/C.html">RDoc::Parser::C</a></li>
        
          
          
          <li><a href="../RDoc/Parser/ChangeLog.html">RDoc::Parser::ChangeLog</a></li>
        
          
          
          <li><a href="../RDoc/Parser/Markdown.html">RDoc::Parser::Markdown</a></li>
        
          
          
          <li><a href="../RDoc/Parser/RD.html">RDoc::Parser::RD</a></li>
        
          
          
          <li><a href="../RDoc/Parser/RipperStateLex.html">RDoc::Parser::RipperStateLex</a></li>
        
          
          
          <li><a href="../RDoc/Parser/RipperStateLex/InnerStateLex.html">RDoc::Parser::RipperStateLex::InnerStateLex</a></li>
        
          
          
          <li><a href="../RDoc/Parser/Ruby.html">RDoc::Parser::Ruby</a></li>
        
          
          
          <li><a href="../RDoc/Parser/RubyTools.html">RDoc::Parser::RubyTools</a></li>
        
          
          
          <li><a href="../RDoc/Parser/Simple.html">RDoc::Parser::Simple</a></li>
        
          
          
          <li><a href="../RDoc/Parser/Text.html">RDoc::Parser::Text</a></li>
        
          
          
          <li><a href="../RDoc/RD.html">RDoc::RD</a></li>
        
          
          
          <li><a href="../RDoc/RD/BlockParser.html">RDoc::RD::BlockParser</a></li>
        
          
          
          <li><a href="../RDoc/RD/Inline.html">RDoc::RD::Inline</a></li>
        
          
          
          <li><a href="../RDoc/RD/InlineParser.html">RDoc::RD::InlineParser</a></li>
        
          
          
          <li><a href="../RDoc/RDoc.html">RDoc::RDoc</a></li>
        
          
          
          <li><a href="../RDoc/RI.html">RDoc::RI</a></li>
        
          
          
          <li><a href="../RDoc/RI/Driver.html">RDoc::RI::Driver</a></li>
        
          
          
          <li><a href="../RDoc/RI/Driver/Error.html">RDoc::RI::Driver::Error</a></li>
        
          
          
          <li><a href="../RDoc/RI/Driver/NotFoundError.html">RDoc::RI::Driver::NotFoundError</a></li>
        
          
          
          <li><a href="../RDoc/RI/Error.html">RDoc::RI::Error</a></li>
        
          
          
          <li><a href="../RDoc/RI/Paths.html">RDoc::RI::Paths</a></li>
        
          
          
          <li><a href="../RDoc/RI/Task.html">RDoc::RI::Task</a></li>
        
          
          
          <li><a href="../RDoc/Require.html">RDoc::Require</a></li>
        
          
          
          <li><a href="../RDoc/RubygemsHook.html">RDoc::RubygemsHook</a></li>
        
          
          
          <li><a href="../RDoc/Servlet.html">RDoc::Servlet</a></li>
        
          
          
          <li><a href="../RDoc/SingleClass.html">RDoc::SingleClass</a></li>
        
          
          
          <li><a href="../RDoc/Stats.html">RDoc::Stats</a></li>
        
          
          
          <li><a href="../RDoc/Stats/Normal.html">RDoc::Stats::Normal</a></li>
        
          
          
          <li><a href="../RDoc/Stats/Quiet.html">RDoc::Stats::Quiet</a></li>
        
          
          
          <li><a href="../RDoc/Stats/Verbose.html">RDoc::Stats::Verbose</a></li>
        
          
          
          <li><a href="../RDoc/Store.html">RDoc::Store</a></li>
        
          
          
          <li><a href="../RDoc/Store/Error.html">RDoc::Store::Error</a></li>
        
          
          
          <li><a href="../RDoc/Store/MissingFileError.html">RDoc::Store::MissingFileError</a></li>
        
          
          
          <li><a href="../RDoc/Task.html">RDoc::Task</a></li>
        
          
          
          <li><a href="../RDoc/Text.html">RDoc::Text</a></li>
        
          
          
          <li><a href="../RDoc/TokenStream.html">RDoc::TokenStream</a></li>
        
          
          
          <li><a href="../RDoc/TomDoc.html">RDoc::TomDoc</a></li>
        
          
          
          <li><a href="../RDoc/TopLevel.html">RDoc::TopLevel</a></li>
        
          
          
          <li><a href="../RDocTask.html">RDocTask</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div> <!-- metadata -->
  <div class='adzbox'  id="azk83167">
    
  </div> 
  <div id="documentation">
    <h1 class="class">RDoc::RDoc</h1>

    <div id="description" class="description">
      
<p>This is the driver for generating <a href="RDoc.html"><code>RDoc</code></a> output.  It handles file parsing and generation of output.</p>

<p>To use this class to generate <a href="RDoc.html"><code>RDoc</code></a> output via the API, the recommended way is:</p>

<pre class="ruby"><span class="ruby-identifier">rdoc</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RDoc</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">options</span> = <span class="ruby-identifier">rdoc</span>.<span class="ruby-identifier">load_options</span> <span class="ruby-comment"># returns an RDoc::Options instance</span>
<span class="ruby-comment"># set extra options</span>
<span class="ruby-identifier">rdoc</span>.<span class="ruby-identifier">document</span> <span class="ruby-identifier">options</span>
</pre>

<p>You can also generate output like the <code>rdoc</code> executable:</p>

<pre class="ruby"><span class="ruby-identifier">rdoc</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">RDoc</span>.<span class="ruby-identifier">new</span>
<span class="ruby-identifier">rdoc</span>.<span class="ruby-identifier">document</span> <span class="ruby-identifier">argv</span>
</pre>

<p>Where <code>argv</code> is an array of strings, each corresponding to an argument you&#39;d give rdoc on the command line.  See <code>rdoc --help</code> for details.</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      
      <!-- Constants -->
      <div id="constants-list" class="section">
        <h3 class="section-header">Constants</h3>
        <dl>
        
          <dt><a name="GENERATORS">GENERATORS</a></dt>
          
          <dd class="description"><p>This is the list of supported output generators</p></dd>
          
        
        </dl>
      </div>
      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="generator-attribute-method" class="method-detail">
          <a name="generator"></a>
          
          <a name="generator="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">generator</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description 245">
          
          <p>Generator instance used for creating output</p>
          
          </div>
        </div>
        
        <div id="last_modified-attribute-method" class="method-detail">
          <a name="last_modified"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">last_modified</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>Hash of files and their last modified times.</p>
          
          </div>
        </div>
        
        <div id="options-attribute-method" class="method-detail">
          <a name="options"></a>
          
          <a name="options="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">options</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description 245">
          
          <p><a href="RDoc.html"><code>RDoc</code></a> options</p>
          
          </div>
        </div>
        
        <div id="stats-attribute-method" class="method-detail">
          <a name="stats"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">stats</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>Accessor for statistics.  Available after each call to <a href="RDoc.html#method-i-parse_files"><code>parse_files</code></a></p>
          
          </div>
        </div>
        
        <div id="store-attribute-method" class="method-detail">
          <a name="store"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">store</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description 245">
          
          <p>The current documentation store</p>
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="add_generator-method" class="method-detail ">
          <a name="method-c-add_generator"></a>

          
          <div class="method-heading">
            <span class="method-name">add_generator</span><span
              class="method-args">(klass)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Add <code>klass</code> that can generate output after parsing</p>
            

            
            <div class="method-source-code" id="add_generator-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 66</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">add_generator</span>(<span class="ruby-identifier">klass</span>)
  <span class="ruby-identifier">name</span> = <span class="ruby-identifier">klass</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/^RDoc::Generator::/</span>, <span class="ruby-string">&#39;&#39;</span>).<span class="ruby-identifier">downcase</span>
  <span class="ruby-constant">GENERATORS</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">klass</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- add_generator-source -->
            
          </div>

          

          
        </div><!-- add_generator-method -->
      
        <div id="current-method" class="method-detail ">
          <a name="method-c-current"></a>

          
          <div class="method-heading">
            <span class="method-name">current</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Active <a href="RDoc.html"><code>RDoc::RDoc</code></a> instance</p>
            

            
            <div class="method-source-code" id="current-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 74</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">current</span>
  <span class="ruby-ivar">@current</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- current-source -->
            
          </div>

          

          
        </div><!-- current-method -->
      
        <div id="current-3D-method" class="method-detail ">
          <a name="method-c-current-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">current=</span><span
              class="method-args">(rdoc)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Sets the active <a href="RDoc.html"><code>RDoc::RDoc</code></a> instance</p>
            

            
            <div class="method-source-code" id="current-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 81</span>
<span class="ruby-keyword">def</span> <span class="ruby-keyword">self</span>.<span class="ruby-identifier ruby-title">current=</span> <span class="ruby-identifier">rdoc</span>
  <span class="ruby-ivar">@current</span> = <span class="ruby-identifier">rdoc</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- current-3D-source -->
            
          </div>

          

          
        </div><!-- current-3D-method -->
      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Creates a new <a href="RDoc.html"><code>RDoc::RDoc</code></a> instance.  Call <a href="RDoc.html#method-i-document"><code>document</code></a> to parse files and generate documentation.</p>
            

            
            <div class="method-source-code" id="new-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 89</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">initialize</span>
  <span class="ruby-ivar">@current</span>       = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@generator</span>     = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@last_modified</span> = {}
  <span class="ruby-ivar">@old_siginfo</span>   = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@options</span>       = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@stats</span>         = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@store</span>         = <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->
      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="document-method" class="method-detail ">
          <a name="method-i-document"></a>

          
          <div class="method-heading">
            <span class="method-name">document</span><span
              class="method-args">(options)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Generates documentation or a coverage report depending upon the settings in <code>options</code>.</p>

<p><code>options</code> can be either an <a href="Options.html"><code>RDoc::Options</code></a> instance or an array of strings equivalent to the strings that would be passed on the command line like <code>%w[-q -o doc -t My\ Doc\ Title]</code>.  <a href="RDoc.html#method-i-document"><code>document</code></a> will automatically call <a href="Options.html#method-i-finish"><code>RDoc::Options#finish</code></a> if an options instance was given.</p>

<p>For a list of options, see either <a href="Options.html"><code>RDoc::Options</code></a> or <code>rdoc --help</code>.</p>

<p>By default, output will be stored in a directory called “doc” below the current directory, so make sure you&#39;re somewhere writable before invoking.</p>
            

            
            <div class="method-source-code" id="document-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 453</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">document</span> <span class="ruby-identifier">options</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">store</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Store</span>.<span class="ruby-identifier">new</span>

  <span class="ruby-keyword">if</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Options</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">options</span> <span class="ruby-keyword">then</span>
    <span class="ruby-ivar">@options</span> = <span class="ruby-identifier">options</span>
    <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">finish</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@options</span> = <span class="ruby-identifier">load_options</span>
    <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">parse</span> <span class="ruby-identifier">options</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">pipe</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">handle_pipe</span>
    <span class="ruby-identifier">exit</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">coverage_report</span> <span class="ruby-keyword">then</span>
    <span class="ruby-ivar">@last_modified</span> = <span class="ruby-identifier">setup_output_dir</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">op_dir</span>, <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">force_update</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@store</span>.<span class="ruby-identifier">encoding</span> = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">encoding</span>
  <span class="ruby-ivar">@store</span>.<span class="ruby-identifier">dry_run</span>  = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">dry_run</span>
  <span class="ruby-ivar">@store</span>.<span class="ruby-identifier">main</span>     = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">main_page</span>
  <span class="ruby-ivar">@store</span>.<span class="ruby-identifier">title</span>    = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">title</span>
  <span class="ruby-ivar">@store</span>.<span class="ruby-identifier">path</span>     = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">op_dir</span>

  <span class="ruby-ivar">@start_time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span>

  <span class="ruby-ivar">@store</span>.<span class="ruby-identifier">load_cache</span>

  <span class="ruby-identifier">file_info</span> = <span class="ruby-identifier">parse_files</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">files</span>

  <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">default_title</span> = <span class="ruby-string">&quot;RDoc Documentation&quot;</span>

  <span class="ruby-ivar">@store</span>.<span class="ruby-identifier">complete</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">visibility</span>

  <span class="ruby-ivar">@stats</span>.<span class="ruby-identifier">coverage_level</span> = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">coverage_report</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">coverage_report</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">puts</span>

    <span class="ruby-identifier">puts</span> <span class="ruby-ivar">@stats</span>.<span class="ruby-identifier">report</span>.<span class="ruby-identifier">accept</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">ToRdoc</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">file_info</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;\nNo newer files.&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">quiet</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">gen_klass</span> = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">generator</span>

    <span class="ruby-ivar">@generator</span> = <span class="ruby-identifier">gen_klass</span>.<span class="ruby-identifier">new</span> <span class="ruby-ivar">@store</span>, <span class="ruby-ivar">@options</span>

    <span class="ruby-identifier">generate</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@stats</span> <span class="ruby-keyword">and</span> (<span class="ruby-ivar">@options</span>.<span class="ruby-identifier">coverage_report</span> <span class="ruby-keyword">or</span> <span class="ruby-keyword">not</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">quiet</span>) <span class="ruby-keyword">then</span>
    <span class="ruby-identifier">puts</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-ivar">@stats</span>.<span class="ruby-identifier">summary</span>.<span class="ruby-identifier">accept</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">ToRdoc</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">exit</span> <span class="ruby-ivar">@stats</span>.<span class="ruby-identifier">fully_documented?</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">coverage_report</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- document-source -->
            
          </div>

          

          
        </div><!-- document-method -->
      
        <div id="error-method" class="method-detail ">
          <a name="method-i-error"></a>

          
          <div class="method-heading">
            <span class="method-name">error</span><span
              class="method-args">(msg)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Report an error message and exit</p>
            

            
            <div class="method-source-code" id="error-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 102</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">error</span>(<span class="ruby-identifier">msg</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>, <span class="ruby-identifier">msg</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- error-source -->
            
          </div>

          

          
        </div><!-- error-method -->
      
        <div id="gather_files-method" class="method-detail ">
          <a name="method-i-gather_files"></a>

          
          <div class="method-heading">
            <span class="method-name">gather_files</span><span
              class="method-args">(files)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Gathers a set of parseable files from the files and directories listed in <code>files</code>.</p>
            

            
            <div class="method-source-code" id="gather_files-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 110</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">gather_files</span> <span class="ruby-identifier">files</span>
  <span class="ruby-identifier">files</span> = [<span class="ruby-string">&quot;.&quot;</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">files</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">file_list</span> = <span class="ruby-identifier">normalized_file_list</span> <span class="ruby-identifier">files</span>, <span class="ruby-keyword">true</span>, <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">exclude</span>

  <span class="ruby-identifier">file_list</span> = <span class="ruby-identifier">file_list</span>.<span class="ruby-identifier">uniq</span>

  <span class="ruby-identifier">file_list</span> = <span class="ruby-identifier">remove_unparseable</span> <span class="ruby-identifier">file_list</span>

  <span class="ruby-identifier">file_list</span>.<span class="ruby-identifier">sort</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- gather_files-source -->
            
          </div>

          

          
        </div><!-- gather_files-method -->
      
        <div id="generate-method" class="method-detail ">
          <a name="method-i-generate"></a>

          
          <div class="method-heading">
            <span class="method-name">generate</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Generates documentation for <code>file_info</code> (from <a href="RDoc.html#method-i-parse_files"><code>parse_files</code></a>) into the output dir using the generator selected by the <a href="RDoc.html"><code>RDoc</code></a> options</p>
            

            
            <div class="method-source-code" id="generate-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 518</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">generate</span>
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">dry_run</span> <span class="ruby-keyword">then</span>
    <span class="ruby-comment"># do nothing</span>
    <span class="ruby-ivar">@generator</span>.<span class="ruby-identifier">generate</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">op_dir</span> <span class="ruby-keyword">do</span>
      <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">quiet</span> <span class="ruby-keyword">then</span>
        <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;\nGenerating #{@generator.class.name.sub(/^.*::/, &#39;&#39;)} format into #{Dir.pwd}...&quot;</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-ivar">@generator</span>.<span class="ruby-identifier">generate</span>
      <span class="ruby-identifier">update_output_dir</span> <span class="ruby-string">&#39;.&#39;</span>, <span class="ruby-ivar">@start_time</span>, <span class="ruby-ivar">@last_modified</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- generate-source -->
            
          </div>

          

          
        </div><!-- generate-method -->
      
        <div id="handle_pipe-method" class="method-detail ">
          <a name="method-i-handle_pipe"></a>

          
          <div class="method-heading">
            <span class="method-name">handle_pipe</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Turns <a href="RDoc.html"><code>RDoc</code></a> from stdin into HTML</p>
            

            
            <div class="method-source-code" id="handle_pipe-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 125</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">handle_pipe</span>
  <span class="ruby-ivar">@html</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Markup</span><span class="ruby-operator">::</span><span class="ruby-constant">ToHtml</span>.<span class="ruby-identifier">new</span> <span class="ruby-ivar">@options</span>

  <span class="ruby-identifier">parser</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Text</span><span class="ruby-operator">::</span><span class="ruby-constant">MARKUP_FORMAT</span>[<span class="ruby-ivar">@options</span>.<span class="ruby-identifier">markup</span>]

  <span class="ruby-identifier">document</span> = <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">parse</span> <span class="ruby-identifier">$stdin</span>.<span class="ruby-identifier">read</span>

  <span class="ruby-identifier">out</span> = <span class="ruby-ivar">@html</span>.<span class="ruby-identifier">convert</span> <span class="ruby-identifier">document</span>

  <span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">write</span> <span class="ruby-identifier">out</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- handle_pipe-source -->
            
          </div>

          

          
        </div><!-- handle_pipe-method -->
      
        <div id="install_siginfo_handler-method" class="method-detail ">
          <a name="method-i-install_siginfo_handler"></a>

          
          <div class="method-heading">
            <span class="method-name">install_siginfo_handler</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Installs a siginfo handler that prints the current filename.</p>
            

            
            <div class="method-source-code" id="install_siginfo_handler-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 140</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">install_siginfo_handler</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Signal</span>.<span class="ruby-identifier">list</span>.<span class="ruby-identifier">include?</span> <span class="ruby-string">&#39;INFO&#39;</span>

  <span class="ruby-ivar">@old_siginfo</span> = <span class="ruby-identifier">trap</span> <span class="ruby-string">&#39;INFO&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">puts</span> <span class="ruby-ivar">@current</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@current</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- install_siginfo_handler-source -->
            
          </div>

          

          
        </div><!-- install_siginfo_handler-method -->
      
        <div id="list_files_in_directory-method" class="method-detail ">
          <a name="method-i-list_files_in_directory"></a>

          
          <div class="method-heading">
            <span class="method-name">list_files_in_directory</span><span
              class="method-args">(dir)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Return a list of the files to be processed in a directory. We know that this directory doesn&#39;t have a .document file, so we&#39;re looking for real files. However we may well contain subdirectories which must be tested for .document files.</p>
            

            
            <div class="method-source-code" id="list_files_in_directory-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 324</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">list_files_in_directory</span> <span class="ruby-identifier">dir</span>
  <span class="ruby-identifier">files</span> = <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-string">&quot;*&quot;</span>)

  <span class="ruby-identifier">normalized_file_list</span> <span class="ruby-identifier">files</span>, <span class="ruby-keyword">false</span>, <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">exclude</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- list_files_in_directory-source -->
            
          </div>

          

          
        </div><!-- list_files_in_directory-method -->
      
        <div id="load_options-method" class="method-detail ">
          <a name="method-i-load_options"></a>

          
          <div class="method-heading">
            <span class="method-name">load_options</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Loads options from .rdoc_options if the file exists, otherwise creates a new <a href="Options.html"><code>RDoc::Options</code></a> instance.</p>
            

            
            <div class="method-source-code" id="load_options-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 152</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">load_options</span>
  <span class="ruby-identifier">options_file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span> <span class="ruby-string">&#39;.rdoc_options&#39;</span>
  <span class="ruby-keyword">return</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Options</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span> <span class="ruby-identifier">options_file</span>

  <span class="ruby-constant">RDoc</span>.<span class="ruby-identifier">load_yaml</span>

  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">options</span> = <span class="ruby-constant">YAML</span>.<span class="ruby-identifier">load_file</span> <span class="ruby-string">&#39;.rdoc_options&#39;</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Psych</span><span class="ruby-operator">::</span><span class="ruby-constant">SyntaxError</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">raise</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Error</span>, <span class="ruby-node">&quot;#{options_file} is not a valid rdoc options file&quot;</span> <span class="ruby-keyword">unless</span>
    <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Options</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">options</span>

  <span class="ruby-identifier">options</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- load_options-source -->
            
          </div>

          

          
        </div><!-- load_options-method -->
      
        <div id="normalized_file_list-method" class="method-detail ">
          <a name="method-i-normalized_file_list"></a>

          
          <div class="method-heading">
            <span class="method-name">normalized_file_list</span><span
              class="method-args">(relative_files, force_doc = false, exclude_pattern = nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Given a list of files and directories, create a list of all the Ruby files they contain.</p>

<p>If <code>force_doc</code> is true we always add the given files, if false, only add files that we guarantee we can parse.  It is true when looking at files given on the command line, false when recursing through subdirectories.</p>

<p>The effect of this is that if you want a file with a non-standard extension parsed, you must name it explicitly.</p>
            

            
            <div class="method-source-code" id="normalized_file_list-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 279</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">normalized_file_list</span>(<span class="ruby-identifier">relative_files</span>, <span class="ruby-identifier">force_doc</span> = <span class="ruby-keyword">false</span>,
                         <span class="ruby-identifier">exclude_pattern</span> = <span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">file_list</span> = []

  <span class="ruby-identifier">relative_files</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">rel_file_name</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel_file_name</span>.<span class="ruby-identifier">end_with?</span> <span class="ruby-string">&#39;created.rid&#39;</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">exclude_pattern</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">exclude_pattern</span> <span class="ruby-operator">=~</span> <span class="ruby-identifier">rel_file_name</span>
    <span class="ruby-identifier">stat</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">stat</span> <span class="ruby-identifier">rel_file_name</span> <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">next</span>

    <span class="ruby-keyword">case</span> <span class="ruby-identifier">type</span> = <span class="ruby-identifier">stat</span>.<span class="ruby-identifier">ftype</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;file&quot;</span> <span class="ruby-keyword">then</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">last_modified</span> = <span class="ruby-ivar">@last_modified</span>[<span class="ruby-identifier">rel_file_name</span>] <span class="ruby-keyword">and</span>
              <span class="ruby-identifier">stat</span>.<span class="ruby-identifier">mtime</span>.<span class="ruby-identifier">to_i</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">last_modified</span>.<span class="ruby-identifier">to_i</span>

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">force_doc</span> <span class="ruby-keyword">or</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span>.<span class="ruby-identifier">can_parse</span>(<span class="ruby-identifier">rel_file_name</span>) <span class="ruby-keyword">then</span>
        <span class="ruby-identifier">file_list</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">rel_file_name</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/^\.\//</span>, <span class="ruby-string">&#39;&#39;</span>)
        <span class="ruby-ivar">@last_modified</span>[<span class="ruby-identifier">rel_file_name</span>] = <span class="ruby-identifier">stat</span>.<span class="ruby-identifier">mtime</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">when</span> <span class="ruby-string">&quot;directory&quot;</span> <span class="ruby-keyword">then</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">rel_file_name</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;CVS&quot;</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">rel_file_name</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;.svn&quot;</span>

      <span class="ruby-identifier">created_rid</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">rel_file_name</span>, <span class="ruby-string">&quot;created.rid&quot;</span>
      <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span> <span class="ruby-identifier">created_rid</span>

      <span class="ruby-identifier">dot_doc</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">rel_file_name</span>, <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">DOT_DOC_FILENAME</span>

      <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span> <span class="ruby-identifier">dot_doc</span> <span class="ruby-keyword">then</span>
        <span class="ruby-identifier">file_list</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">parse_dot_doc_file</span>(<span class="ruby-identifier">rel_file_name</span>, <span class="ruby-identifier">dot_doc</span>)
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">file_list</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">list_files_in_directory</span>(<span class="ruby-identifier">rel_file_name</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;rdoc can&#39;t parse the #{type} #{rel_file_name}&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">file_list</span>.<span class="ruby-identifier">flatten</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- normalized_file_list-source -->
            
          </div>

          

          
        </div><!-- normalized_file_list-method -->
      
        <div id="output_flag_file-method" class="method-detail ">
          <a name="method-i-output_flag_file"></a>

          
          <div class="method-heading">
            <span class="method-name">output_flag_file</span><span
              class="method-args">(op_dir)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Return the path name of the flag file in an output directory.</p>
            

            
            <div class="method-source-code" id="output_flag_file-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 244</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">output_flag_file</span>(<span class="ruby-identifier">op_dir</span>)
  <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span> <span class="ruby-identifier">op_dir</span>, <span class="ruby-string">&quot;created.rid&quot;</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- output_flag_file-source -->
            
          </div>

          

          
        </div><!-- output_flag_file-method -->
      
        <div id="parse_dot_doc_file-method" class="method-detail ">
          <a name="method-i-parse_dot_doc_file"></a>

          
          <div class="method-heading">
            <span class="method-name">parse_dot_doc_file</span><span
              class="method-args">(in_dir, filename)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>The .document file contains a list of file and directory name patterns, representing candidates for documentation. It may also contain comments (starting with &#39;#&#39;)</p>
            

            
            <div class="method-source-code" id="parse_dot_doc_file-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 253</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">parse_dot_doc_file</span> <span class="ruby-identifier">in_dir</span>, <span class="ruby-identifier">filename</span>
  <span class="ruby-comment"># read and strip comments</span>
  <span class="ruby-identifier">patterns</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">filename</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/#.*/</span>, <span class="ruby-string">&#39;&#39;</span>)

  <span class="ruby-identifier">result</span> = []

  <span class="ruby-identifier">patterns</span>.<span class="ruby-identifier">split</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">patt</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">candidates</span> = <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">in_dir</span>, <span class="ruby-identifier">patt</span>))
    <span class="ruby-identifier">result</span>.<span class="ruby-identifier">concat</span> <span class="ruby-identifier">normalized_file_list</span>(<span class="ruby-identifier">candidates</span>, <span class="ruby-keyword">false</span>, <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">exclude</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">result</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- parse_dot_doc_file-source -->
            
          </div>

          

          
        </div><!-- parse_dot_doc_file-method -->
      
        <div id="parse_file-method" class="method-detail ">
          <a name="method-i-parse_file"></a>

          
          <div class="method-heading">
            <span class="method-name">parse_file</span><span
              class="method-args">(filename)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Parses <code>filename</code> and returns an <a href="TopLevel.html"><code>RDoc::TopLevel</code></a></p>
            

            
            <div class="method-source-code" id="parse_file-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 333</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">parse_file</span> <span class="ruby-identifier">filename</span>
    <span class="ruby-identifier">encoding</span> = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">encoding</span>
    <span class="ruby-identifier">filename</span> = <span class="ruby-identifier">filename</span>.<span class="ruby-identifier">encode</span> <span class="ruby-identifier">encoding</span>

    <span class="ruby-ivar">@stats</span>.<span class="ruby-identifier">add_file</span> <span class="ruby-identifier">filename</span>

    <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span>.<span class="ruby-identifier">binary?</span> <span class="ruby-identifier">filename</span>

    <span class="ruby-identifier">content</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">read_file</span> <span class="ruby-identifier">filename</span>, <span class="ruby-identifier">encoding</span>

    <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">content</span>

    <span class="ruby-identifier">filename_path</span> = <span class="ruby-constant">Pathname</span>(<span class="ruby-identifier">filename</span>).<span class="ruby-identifier">expand_path</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">relative_path</span> = <span class="ruby-identifier">filename_path</span>.<span class="ruby-identifier">relative_path_from</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">root</span>
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ArgumentError</span>
      <span class="ruby-identifier">relative_path</span> = <span class="ruby-identifier">filename_path</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">page_dir</span> <span class="ruby-keyword">and</span>
       <span class="ruby-identifier">relative_path</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">start_with?</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">page_dir</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">relative_path</span> =
        <span class="ruby-identifier">relative_path</span>.<span class="ruby-identifier">relative_path_from</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">page_dir</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">top_level</span> = <span class="ruby-ivar">@store</span>.<span class="ruby-identifier">add_file</span> <span class="ruby-identifier">filename</span>, <span class="ruby-value">relative_name:</span> <span class="ruby-identifier">relative_path</span>.<span class="ruby-identifier">to_s</span>

    <span class="ruby-identifier">parser</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span>.<span class="ruby-identifier">for</span> <span class="ruby-identifier">top_level</span>, <span class="ruby-identifier">filename</span>, <span class="ruby-identifier">content</span>, <span class="ruby-ivar">@options</span>, <span class="ruby-ivar">@stats</span>

    <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">parser</span>

    <span class="ruby-identifier">parser</span>.<span class="ruby-identifier">scan</span>

    <span class="ruby-comment"># restart documentation for the classes &amp; modules found</span>
    <span class="ruby-identifier">top_level</span>.<span class="ruby-identifier">classes_or_modules</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cm</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">cm</span>.<span class="ruby-identifier">done_documenting</span> = <span class="ruby-keyword">false</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">top_level</span>

  <span class="ruby-keyword">rescue</span> <span class="ruby-constant">Errno</span><span class="ruby-operator">::</span><span class="ruby-constant">EACCES</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">&lt;&lt;-EOF</span>
<span class="ruby-value">Unable to read #{filename}, #{e.message}

Please check the permissions for this file.  Perhaps you do not have access to
it or perhaps the original author&#39;s permissions are to restrictive.  If the
this is not your library please report a bug to the author.
</span><span class="ruby-identifier">    EOF</span>
  <span class="ruby-keyword">rescue</span> <span class="ruby-operator">=&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">&lt;&lt;-EOF</span>
<span class="ruby-value">Before reporting this, could you check that the file you&#39;re documenting
has proper syntax:

  #{Gem.ruby} -c #{filename}

RDoc is not a full Ruby parser and will fail when fed invalid ruby programs.

The internal error was:

\t(#{e.class}) #{e.message}

</span><span class="ruby-identifier">    EOF</span>

    <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">backtrace</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n\t&quot;</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">$DEBUG_RDOC</span>

    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
    <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- parse_file-source -->
            
          </div>

          

          
        </div><!-- parse_file-method -->
      
        <div id="parse_files-method" class="method-detail ">
          <a name="method-i-parse_files"></a>

          
          <div class="method-heading">
            <span class="method-name">parse_files</span><span
              class="method-args">(files)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Parse each file on the command line, recursively entering directories.</p>
            

            
            <div class="method-source-code" id="parse_files-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 405</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">parse_files</span> <span class="ruby-identifier">files</span>
  <span class="ruby-identifier">file_list</span> = <span class="ruby-identifier">gather_files</span> <span class="ruby-identifier">files</span>
  <span class="ruby-ivar">@stats</span> = <span class="ruby-constant">RDoc</span><span class="ruby-operator">::</span><span class="ruby-constant">Stats</span>.<span class="ruby-identifier">new</span> <span class="ruby-ivar">@store</span>, <span class="ruby-identifier">file_list</span>.<span class="ruby-identifier">length</span>, <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">verbosity</span>

  <span class="ruby-keyword">return</span> [] <span class="ruby-keyword">if</span> <span class="ruby-identifier">file_list</span>.<span class="ruby-identifier">empty?</span>

  <span class="ruby-identifier">original_options</span> = <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">dup</span>
  <span class="ruby-ivar">@stats</span>.<span class="ruby-identifier">begin_adding</span>

  <span class="ruby-identifier">file_info</span> = <span class="ruby-identifier">file_list</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">filename</span><span class="ruby-operator">|</span>
    <span class="ruby-ivar">@current</span> = <span class="ruby-identifier">filename</span>
    <span class="ruby-identifier">parse_file</span> <span class="ruby-identifier">filename</span>
  <span class="ruby-keyword">end</span>.<span class="ruby-identifier">compact</span>

  <span class="ruby-ivar">@stats</span>.<span class="ruby-identifier">done_adding</span>
  <span class="ruby-ivar">@options</span> = <span class="ruby-identifier">original_options</span>

  <span class="ruby-identifier">file_info</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- parse_files-source -->
            
          </div>

          

          
        </div><!-- parse_files-method -->
      
        <div id="remove_siginfo_handler-method" class="method-detail ">
          <a name="method-i-remove_siginfo_handler"></a>

          
          <div class="method-heading">
            <span class="method-name">remove_siginfo_handler</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Removes a siginfo handler and replaces the previous</p>
            

            
            <div class="method-source-code" id="remove_siginfo_handler-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 537</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">remove_siginfo_handler</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">Signal</span>.<span class="ruby-identifier">list</span>.<span class="ruby-identifier">key?</span> <span class="ruby-string">&#39;INFO&#39;</span>

  <span class="ruby-identifier">handler</span> = <span class="ruby-ivar">@old_siginfo</span> <span class="ruby-operator">||</span> <span class="ruby-string">&#39;DEFAULT&#39;</span>

  <span class="ruby-identifier">trap</span> <span class="ruby-string">&#39;INFO&#39;</span>, <span class="ruby-identifier">handler</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- remove_siginfo_handler-source -->
            
          </div>

          

          
        </div><!-- remove_siginfo_handler-method -->
      
        <div id="remove_unparseable-method" class="method-detail ">
          <a name="method-i-remove_unparseable"></a>

          
          <div class="method-heading">
            <span class="method-name">remove_unparseable</span><span
              class="method-args">(files)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Removes file extensions known to be unparseable from <code>files</code> and TAGS files for emacs and vim.</p>
            

            
            <div class="method-source-code" id="remove_unparseable-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 429</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">remove_unparseable</span> <span class="ruby-identifier">files</span>
  <span class="ruby-identifier">files</span>.<span class="ruby-identifier">reject</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">file</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\.(?:class|eps|erb|scpt\.txt|svg|ttf|yml)$/i</span> <span class="ruby-keyword">or</span>
      (<span class="ruby-identifier">file</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/tags$/i</span> <span class="ruby-keyword">and</span>
       <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">file</span>, <span class="ruby-string">&#39;rb&#39;</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
         <span class="ruby-identifier">io</span>.<span class="ruby-identifier">read</span>(<span class="ruby-value">100</span>) <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\A(\f\n[^,]+,\d+$|!_TAG_)/</span>
       })
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- remove_unparseable-source -->
            
          </div>

          

          
        </div><!-- remove_unparseable-method -->
      
        <div id="setup_output_dir-method" class="method-detail ">
          <a name="method-i-setup_output_dir"></a>

          
          <div class="method-heading">
            <span class="method-name">setup_output_dir</span><span
              class="method-args">(dir, force)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Create an output dir if it doesn&#39;t exist. If it does exist, but doesn&#39;t contain the flag file <code>created.rid</code> then we refuse to use it, as we may clobber some manually generated documentation</p>
            

            
            <div class="method-source-code" id="setup_output_dir-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 174</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">setup_output_dir</span>(<span class="ruby-identifier">dir</span>, <span class="ruby-identifier">force</span>)
    <span class="ruby-identifier">flag_file</span> = <span class="ruby-identifier">output_flag_file</span> <span class="ruby-identifier">dir</span>

    <span class="ruby-identifier">last</span> = {}

    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">dry_run</span> <span class="ruby-keyword">then</span>
      <span class="ruby-comment"># do nothing</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span> <span class="ruby-identifier">dir</span> <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">error</span> <span class="ruby-node">&quot;#{dir} exists and is not a directory&quot;</span> <span class="ruby-keyword">unless</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">directory?</span> <span class="ruby-identifier">dir</span>

      <span class="ruby-keyword">begin</span>
        <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span> <span class="ruby-identifier">flag_file</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">io</span><span class="ruby-operator">|</span>
          <span class="ruby-keyword">unless</span> <span class="ruby-identifier">force</span> <span class="ruby-keyword">then</span>
            <span class="ruby-constant">Time</span>.<span class="ruby-identifier">parse</span> <span class="ruby-identifier">io</span>.<span class="ruby-identifier">gets</span>

            <span class="ruby-identifier">io</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
              <span class="ruby-identifier">file</span>, <span class="ruby-identifier">time</span> = <span class="ruby-identifier">line</span>.<span class="ruby-identifier">split</span> <span class="ruby-string">&quot;\t&quot;</span>, <span class="ruby-value">2</span>
              <span class="ruby-identifier">time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">parse</span>(<span class="ruby-identifier">time</span>) <span class="ruby-keyword">rescue</span> <span class="ruby-keyword">next</span>
              <span class="ruby-identifier">last</span>[<span class="ruby-identifier">file</span>] = <span class="ruby-identifier">time</span>
            <span class="ruby-keyword">end</span>
          <span class="ruby-keyword">end</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">SystemCallError</span>, <span class="ruby-constant">TypeError</span>
        <span class="ruby-identifier">error</span> <span class="ruby-identifier">&lt;&lt;-ERROR</span>
<span class="ruby-value">
Directory #{dir} already exists, but it looks like it isn&#39;t an RDoc directory.

Because RDoc doesn&#39;t want to risk destroying any of your existing files,
you&#39;ll need to specify a different output directory name (using the --op &lt;dir&gt;
option)

</span><span class="ruby-identifier">        ERROR</span>
      <span class="ruby-keyword">end</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">force_output</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">mkdir_p</span> <span class="ruby-identifier">dir</span>
      <span class="ruby-constant">FileUtils</span>.<span class="ruby-identifier">touch</span> <span class="ruby-identifier">flag_file</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">last</span>
  <span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- setup_output_dir-source -->
            
          </div>

          

          
        </div><!-- setup_output_dir-method -->
      
        <div id="store-3D-method" class="method-detail ">
          <a name="method-i-store-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">store=</span><span
              class="method-args">(store)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Sets the current documentation tree to <code>store</code> and sets the store&#39;s rdoc driver to this instance.</p>
            

            
            <div class="method-source-code" id="store-3D-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 219</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">store=</span> <span class="ruby-identifier">store</span>
  <span class="ruby-ivar">@store</span> = <span class="ruby-identifier">store</span>
  <span class="ruby-ivar">@store</span>.<span class="ruby-identifier">rdoc</span> = <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- store-3D-source -->
            
          </div>

          

          
        </div><!-- store-3D-method -->
      
        <div id="update_output_dir-method" class="method-detail ">
          <a name="method-i-update_output_dir"></a>

          
          <div class="method-heading">
            <span class="method-name">update_output_dir</span><span
              class="method-args">(op_dir, time, last = {})</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          
          <div>
  
            
            <p>Update the flag file in an output directory.</p>
            

            
            <div class="method-source-code" id="update_output_dir-source">
              <pre> <!-- method.markup_code 290 -->
               <span class="ruby-comment"># File rdoc/rdoc.rb, line 227</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">update_output_dir</span>(<span class="ruby-identifier">op_dir</span>, <span class="ruby-identifier">time</span>, <span class="ruby-identifier">last</span> = {})
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">dry_run</span> <span class="ruby-keyword">or</span> <span class="ruby-keyword">not</span> <span class="ruby-ivar">@options</span>.<span class="ruby-identifier">update_output_dir</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;SOURCE_DATE_EPOCH&#39;</span>].<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">time</span> = <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-constant">ENV</span>[<span class="ruby-string">&#39;SOURCE_DATE_EPOCH&#39;</span>].<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">gmtime</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span> <span class="ruby-identifier">output_flag_file</span>(<span class="ruby-identifier">op_dir</span>), <span class="ruby-string">&quot;w&quot;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">f</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">time</span>.<span class="ruby-identifier">rfc2822</span>
    <span class="ruby-identifier">last</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">n</span>, <span class="ruby-identifier">t</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">f</span>.<span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;#{n}\t#{t.rfc2822}&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
            </pre> 
            </div><!-- update_output_dir-source -->
            
          </div>

          

          
        </div><!-- update_output_dir-method -->
      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  
  <div id='tx_RDoc_versioned' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_RDoc_versioned").load("/associated/2.7.4/RDoc.ihtml");</script> <div id='tx_RDoc' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_RDoc").load("/associated/RDoc.ihtml");</script> 
      
  </div><!-- documentation -->
  <div id='dynamic'>
  </div>
      
<div class='grids wrapper' id="footer">
  <p><small>This page was generated for Ruby 2.7.4</small></p> 
  
   <p><a href="http://ruby-doc.org">Ruby-doc.org</a> is a service of <a href="http://jamesbritt.com">James Britt</a> and <a href="http://neurogami.com">Neurogami</a>, purveyors of fine dance noise.  <div class='oio-inline'><ins data-revive-zoneid="1" data-revive-id="58924a5717c091dfee6dda3f7d38c4d7"></ins><script async src="//ras.ruby-doc.org/vvv/delivery/thesinkjs.php"></script></div></p>
 
       <p><small>Generated with Ruby-doc Rdoc Generator 0.42.0</small>.</p>
  </div>
</div>
  
 <script type='text/javascript'>
$(document).ready(function() {
      $.ajaxSetup({ cache: false });
      $("#vulns-alert").load("/associated/vulns.ihtml");
    });

    </script>


 
		<script type='text/javascript'>

	function loadPlus(plusdocs){
			$(plusdocs).find("div[class='associated_wrapper']").each (function() {
					$("#" + this.id).append($(plusdocs).find("#" + this.id ));
					});
	} 

   //function loadInline(json){
   // for (var lookFor in json) {
    //  $(lookFor).after(json[lookFor]);
    // }
  // } // end loadInline


$(document).ready(function() {
		$.ajaxSetup({ cache: false });
			$.get('/associated/2.7.4/plus_RDoc.ihtml', 
			function(plusdocs) {
			setTimeout(function() {
				loadPlus(plusdocs);
				}, 2000);
			}
			);


//     $.ajax({
//     dataType: "json",
//      url: '/associated/2.7.4/inline_RDoc.js',
//      success: function(json) {
// 			setTimeout(function() {
// 				loadInline(json);
// 				}, 2000);
// 			}
//    });

		});
</script>
		
</body>
</html>


